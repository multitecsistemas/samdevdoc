{"config":{"lang":["pt"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Bem-vindo","text":"<p>Bem vindo \u00e0 documenta\u00e7\u00e3o para desenvolvedores do ERP SAM.</p> <p>Saiba Mais</p> <p>Para conhecer mais, visite o site oficial do SAM. </p>"},{"location":"#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>Este documento tem como finalidade apresentar as diferentes formas de customiza\u00e7\u00e3o de processos e integra\u00e7\u00e3o com os recursos e funcionalidades do ERP SAM. Por exemplo, ao inserir um registro no sistema, h\u00e1 a possibilidade de intervir neste processo realizando cr\u00edticas ou restri\u00e7\u00f5es. O SAM \u00e9 um sistema totalmente adapt\u00e1vel e pode se enquadrar perfeitamente \u00e0s regras do seu neg\u00f3cio, al\u00e9m de se integrar sem dificuldades a outros sistemas dispon\u00edveis no mercado. Aqui, veremos como realizar essas customiza\u00e7\u00f5es e integra\u00e7\u00f5es.</p>"},{"location":"#recomendacoes","title":"Recomenda\u00e7\u00f5es","text":"<p>O SAM utiliza como parte de seus componentes algumas bibliotecas e frameworks, antes de come\u00e7ar recomendamos que voc\u00ea leia e entenda um pouco mais sobre elas.</p> <ul> <li>VUE.js</li> <li>ApexCharts</li> <li>Swing</li> </ul>"},{"location":"#linguagens-utilizadas","title":"Linguagens Utilizadas","text":"<p>As customiza\u00e7\u00f5es e integra\u00e7\u00f5es com o SAM s\u00e3o constru\u00eddas a partir da linguagem Groovy. O Groovy \u00e9 uma linguagem de programa\u00e7\u00e3o orientada a objetos desenvolvida para a plataforma Java como alternativa \u00e0 linguagem de programa\u00e7\u00e3o Java. Ele possui caracter\u00edsticas de Python, Ruby e Smalltalk. Utiliza uma sintaxe similar \u00e0 de Java, \u00e9 compilada dinamicamente para bytecode Java e integra-se transparentemente com outros c\u00f3digos e bibliotecas Java.</p> <p>Visite a documenta\u00e7\u00e3o do Groovy.</p> <p>Os componentes gr\u00e1ficos renderizados na web s\u00e3o construidos com HTML, CSS e JavaScript, podendo ou n\u00e3o utilizar os componentes dos frameworks que vimos acima. J\u00e1 os componentes gr\u00e1ficos renderizados em desktop s\u00e3o construidos com Swing.</p>"},{"location":"#como-funciona","title":"Como funciona","text":"<p>Todas as customiza\u00e7\u00f5es e integra\u00e7\u00f5es podem ser construidas a partir do pr\u00f3prio SAM, nele voc\u00ea encontrar\u00e1 uma ferramenta j\u00e1 integrada e pronta para uso chamada SAMDEV, por\u00e9m, tamb\u00e9m podemos cri\u00e1-las a partir de qualquer outro editor de textos, editor de c\u00f3digos ou IDE de sua prefer\u00eancia.</p> <p>Al\u00e9m do SAMDEV, disponibilizamos um projeto base para ser usado em alguma IDE</p> <ul> <li>projeto base </li> </ul>"},{"location":"#requisitos","title":"Requisitos","text":"<p>Para instalar o SAM e utilizar do SAMDEV ou outros Editores/IDEs, devemos instalar os seguintes requisitos:</p> <ul> <li>Java 21</li> <li>PostgreSQL</li> </ul> <p>Nota</p> <p>Visite nosso reposit\u00f3rio para visualizar alguns exemplos que iremos explorar por aqui.  https://github.com/multitecsistemas/sam4</p>"},{"location":"exportacaoDados/","title":"Exporta\u00e7\u00e3o de dados","text":""},{"location":"exportacaoDados/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>A exporta\u00e7\u00e3o de dados pode ser feita principalmente nos formatos XML, TXT e CSV, permitindo tamb\u00e9m a exporta\u00e7\u00e3o em outros formatos.</p>"},{"location":"exportacaoDados/#filtros","title":"Filtros","text":"<p>Assim como em uma listagem, a exporta\u00e7\u00e3o de dados pode ter ou n\u00e3o filtros, utilizando os componentes das listagens</p>"},{"location":"exportacaoDados/#metodos","title":"M\u00e9todos","text":"Nome Descri\u00e7\u00e3o String nome Nome do arquivo"},{"location":"exportacaoDados/#gerarxml","title":"gerarXml","text":"<pre><code>DadosParaDownload gerarXml(String nome, ElementXml xml)\n</code></pre>"},{"location":"exportacaoDados/#gerartxt","title":"gerarTxt","text":"<pre><code>DadosParaDownload gerarTxt(String nome, String txt)\n</code></pre>"},{"location":"exportacaoDados/#gerarcsv","title":"gerarCsv","text":"<pre><code>DadosParaDownload gerarCsv(String nome, String csv)\n</code></pre>"},{"location":"exportacaoDados/#gerardados","title":"gerarDados","text":"Nome Descri\u00e7\u00e3o byte[] dados bytes do arquivo MediaType type tipo do arquivo <pre><code>DadosParaDownload gerarDados(String nome, byte[] dados, MediaType type)\n</code></pre>"},{"location":"formulas/","title":"F\u00f3rmulas","text":""},{"location":"formulas/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>Uma f\u00f3rmula \u00e9 um m\u00e9todo pr\u00e1tico de resolver um assunto, dar instru\u00e7\u00f5es ou expressar uma opera\u00e7\u00e3o. Em algumas tarefas do SAM4 o processamento de dados pode ser feito de forma customizada, ou seja, cada empresa pode processar livremente. Essas customiza\u00e7\u00f5es s\u00e3o feitas por meio das f\u00f3rmulas. Por exemplo, c\u00e1lculo de documentos, c\u00e1lculo de folha de pagamento, manipula\u00e7\u00e3o de valores de itens no estoque.</p>"},{"location":"formulas/#metodos","title":"M\u00e9todos","text":""},{"location":"formulas/#obterempresaativa","title":"<code>obterEmpresaAtiva</code>","text":"<p>Este m\u00e9todo retorna um objeto do tipo Aac10 contendo os dados da empresa ativa.</p> Exemplo <pre><code>Aac10 aac10 = obterEmpresaAtiva()\n</code></pre>"},{"location":"formulas/#obterusuariologado","title":"<code>obterUsuarioLogado</code>","text":"<p>Este m\u00e9todo retorna um objeto do tipo Aab10 contendo os dados do usu\u00e1rio logado no sistema.</p> Exemplo <pre><code>Aab10 aab10 = obterUsuarioLogado()\n</code></pre>"},{"location":"formulas/#getacessoaobanco","title":"<code>getAcessoAoBanco</code>","text":"<p>Este m\u00e9todo retorna uma cole\u00e7\u00e3o de m\u00e9todos \u00fateis para manipula\u00e7\u00e3o do banco de dados, descritos abaixo:</p> Metodo Descri\u00e7\u00e3o buscarListaDeTableMap Retorna uma lista de <code>TableMap</code> contendo os registros obtidos a partir da execu\u00e7\u00e3o de uma SQL. buscarUnicoTableMap Retorna um \u00fanico <code>TableMap</code> contendo o registro obtido a partir da execu\u00e7\u00e3o de uma SQL. buscarListaDeRegistros Retorna uma lista de registros (entidades) obtidos a partir da execu\u00e7\u00e3o de uma SQL. buscarRegistroUnico Retorna um \u00fanico registro (entidade) obtido a partir da execu\u00e7\u00e3o de uma SQL. buscarMultiResultSet Retorna um objeto <code>MultiResultSet</code> contendo os registros obtidos a partir da execu\u00e7\u00e3o de uma SQL. obterMapDeRegistros Retorna um <code>Map</code> contendo os registros obtidos a partir da execu\u00e7\u00e3o de uma SQL, usando coluna como chave/valor. obterListaDeBigDecimal Retorna uma lista de <code>BigDecimal</code> obtidos a partir da execu\u00e7\u00e3o de uma SQL. obterBigDecimal Retorna um \u00fanico <code>BigDecimal</code> obtido a partir da execu\u00e7\u00e3o de uma SQL. obterListaDeInteger Retorna uma lista de <code>Integer</code> obtidos a partir da execu\u00e7\u00e3o de uma SQL. obterInteger Retorna um \u00fanico <code>Integer</code> obtido a partir da execu\u00e7\u00e3o de uma SQL. obterListaDeDate Retorna uma lista de objetos <code>LocalDate</code> obtidos a partir da execu\u00e7\u00e3o de uma SQL. obterDate Retorna um \u00fanico objeto <code>LocalDate</code> obtido a partir da execu\u00e7\u00e3o de uma SQL. obterListaDeString Retorna uma lista de <code>String</code> obtidas a partir da execu\u00e7\u00e3o de uma SQL. obterString Retorna uma \u00fanica <code>String</code> obtida a partir da execu\u00e7\u00e3o de uma SQL. obterListaDeLong Retorna uma lista de <code>Long</code> obtidos a partir da execu\u00e7\u00e3o de uma SQL. obterLong Retorna um \u00fanico <code>Long</code> obtido a partir da execu\u00e7\u00e3o de uma SQL. buscarRegistroUnicoById Retorna um registro de uma tabela pelo ID informado como argumento. buscarRegistroUnicoByCriterion Retorna um registro de uma tabela filtrado por um <code>Criterion</code>."},{"location":"formulas/#criarparametrosql","title":"<code>criarParametroSql</code>","text":"<p>Este m\u00e9todo retorna um objeto do tipo Parametro para ser utilizado nos m\u00e9todos que realizam a manipula\u00e7\u00e3o do banco de dados que vimos acima.</p> <p>Argumentos</p> Tipo Descri\u00e7\u00e3o String Chave Object Valor Exemplo <pre><code>String sql = \" SELECT * FROM Abm01 WHERE abm01codigo = :codigo AND abm01tipo = :tipo \"\n\nParametro paramCodigo = criarParametroSql(\"codigo\", \"0101001\")\nParametro paramTipo = criarParametroSql(\"tipo\", 0)\n</code></pre>"},{"location":"formulas/#obterwherepadrao","title":"<code>obterWherePadrao</code>","text":"<p>Este m\u00e9todo retorna um WHERE filtrando pelos Campos Default para ser utilizado em SQLs.</p> <p>Argumentos</p> Tipo Descri\u00e7\u00e3o String Nome da Classe Object Comparador Ex.: WHERE, AND, OR ExemploRetorno <pre><code>String sql = \"SELECT * FROM Eaa01 WHERE eaa01id = 123 \" + obterWherePadrao(\"Eaa01\", \"AND\")\n</code></pre> <pre><code>\"SELECT * FROM Eaa01 WHERE eaa01id = 123 AND eaa01gc IN (1, 2, 3)\"\n</code></pre>"},{"location":"formulas/#selecionaralinhamento","title":"<code>selecionarAlinhamento</code>","text":"<p>O alinhamento de valores permite fazer um alinhamento dos campos de registros contidos em um leiaute, uma f\u00f3rmula, em listagens para alinhar campos livres do sistema (Json), possibilitando usar nas f\u00f3rmulas um nome padronizado. Este m\u00e9todo seleciona qual alinhamento de valores ser\u00e1 utilizado no script</p> <p>Argumentos:</p> Tipo Descri\u00e7\u00e3o String C\u00f3digo do alinhamento Exemplo <pre><code>selecionarAlinhamento(\"0001\")\n</code></pre>"},{"location":"formulas/#getcampo","title":"<code>getCampo</code>","text":"<p>Este m\u00e9todo retorna o campo informado no alinhamento de valores pelo conte\u00fado do registro. Este m\u00e9todo deve ser utilizado ap\u00f3s a utiliza\u00e7\u00e3o do m\u00e9todo <code>selecionarAlinhamento</code></p> <p>Argumentos:</p> Tipo Descri\u00e7\u00e3o String Registro String Campo Exemplo <pre><code>getCampo(\"C100\", \"ICMS\")\n</code></pre>"},{"location":"formulas/#getsession","title":"<code>getSession</code>","text":"<p>Este m\u00e9todo retorna um objeto do tipo Session para manipular o banco de dados.</p> Exemplo <pre><code>Session session = getSession()\nsession.persist(xpto)\n</code></pre>"},{"location":"formulas/#interromper","title":"<code>interromper</code>","text":"<p>Este m\u00e9todo lan\u00e7a uma exce\u00e7\u00e3o ao processo, interrompendo-o.</p> Tipo Descri\u00e7\u00e3o String Mensagem a ser exibida Exemplo <pre><code>interromper(\"Voc\u00ea n\u00e3o tem permiss\u00e3o para continuar.\")\n</code></pre>"},{"location":"formulas/#get","title":"get()","text":"<p>Quando uma Listagem \u00e9 executada, alguns dados podem ser enviados para o processo, estes dados s\u00e3o conte\u00fado dos filtros. O envio deste dado \u00e9 feito atrav\u00e9s de um Mapa de chave e valor, para recuperar estes dados utilizamos o m\u00e9todo <code>get()</code> e suas varia\u00e7\u00f5es.</p> <p>Exemplo: Em uma listagem existe um campo de data e foi atribu\u00eddo o nome dataDeInicio.</p> <pre><code>&lt;m-date label=\"Data de Inicio\" v-model=\"filtros.dataDeInicio\" /&gt;\n</code></pre> <p>Para recuperar o conteudo deste campo a partir do c\u00f3digo groovy utilizamos o m\u00e9todo <code>get()</code>.</p> <pre><code>def dataDeInicio = get(\"dataDeInicio\")\n</code></pre> <p>Este m\u00e9todo por si s\u00f3 retorna um objeto. Contamos com alguma varia\u00e7\u00f5es deste m\u00e9todo que nos trazem os dados j\u00e1 convertidos.</p> M\u00e9todo Retorno M\u00e9todo Retorno getString() Texto getLocalDate() Data getBoolean() Booleano getLocalTime() Hora getInteger() Inteiro getIntervaloDatas() Array de Datas getLong() Longo getListLong() Lista de Longos getBigDecimal() Decimal getListInteger() Lista de Inteiros"},{"location":"relatorios/","title":"Listagens","text":""},{"location":"relatorios/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>A gera\u00e7\u00e3o de listagens \u00e9 uma funcionalidade essencial para apresentar dados de forma estruturada e f\u00e1cil de interpretar, suportando a tomada de decis\u00e3o. Este guia detalha como o sistema realiza a extra\u00e7\u00e3o de informa\u00e7\u00f5es da base de dados, formata listagens e emprega componentes e m\u00e9todos espec\u00edficos para atender \u00e0s necessidades de diversos relat\u00f3rios.</p>"},{"location":"relatorios/#extracao-de-dados","title":"Extra\u00e7\u00e3o de Dados","text":"<p>O processo de extra\u00e7\u00e3o de dados consiste em se comunicar com bancos de dados para capturar os registros que ser\u00e3o disponibilizados para gera\u00e7\u00e3o de relat\u00f3rios. Todas as extra\u00e7\u00f5es s\u00e3o realizadas por meio de consultas SQL ou chamadas a procedimentos armazenados, e podem incluir:</p> <ul> <li>Consultas livres</li> <li>Listagens gerais ou filtradas</li> <li>Relat\u00f3rios resumidos ou anal\u00edticos</li> <li>Estat\u00edsticas e m\u00e9tricas customizadas</li> <li>Documentos fiscais e n\u00e3o fiscais</li> </ul> <p>Os dados extra\u00eddos devem ser precisos, atualizados e refletir o estado real do sistema.</p> <p>Fluxo de extra\u00e7\u00e3o:</p> <ol> <li>Defini\u00e7\u00e3o dos par\u00e2metros de consulta (datas, filtros, agrupamentos).</li> <li>Execu\u00e7\u00e3o da query.</li> <li>Valida\u00e7\u00e3o e tratamento dos dados.</li> <li>Convers\u00e3o dos resultados para o formato PDF ou XLS.</li> </ol>"},{"location":"relatorios/#componentes","title":"Componentes","text":"<p>Estes componentes s\u00e3o baseados na sintaxe das tags HTML, s\u00e3o constru\u00eddos a partir do framework VUE.js e podem ser utilizados para a cria\u00e7\u00e3o de filtros que s\u00e3o utilizados nos processos de Extra\u00e7\u00e3o de Dados.</p>"},{"location":"relatorios/#atributos-default","title":"Atributos Default","text":"<p>Assim como nas tags do HTML os componentes Multitec tamb\u00e9m possuem seus atributos. Todos os componentes por default possuem os seguintes atributos para a sua configura\u00e7\u00e3o.</p> Nome Descri\u00e7\u00e3o Valores Permitidos Valor Default label Label para o campo * - help Texto de ajuda para o campo * - id ID do campo * - wrapperClass Classe (css) para a DIV wrapper do input * - showWrapper Indica se a DIV wrapper do componente ser\u00e1 exibida * - required Indica se esse campo \u00e9 requerido true, false false v-model Nome do componente, utilizado para obter seu valor * -"},{"location":"relatorios/#m-input","title":"<code>m-input</code>","text":"<p>Este componente renderiza um campo <code>input</code> para textos, com os seguintes atributos:</p> Nome Descri\u00e7\u00e3o Valores Permitidos Default type Tipo do conte\u00fado aceito text, integer, decimal, monthYear - <p>Exemplo:</p> <p></p> <pre><code>&lt;m-input type=\"text\" label=\"Campo de texto\" help=\"Campo obrigat\u00f3rio\" v-model=\"filtros.texto\" :required=\"true\" /&gt;\n</code></pre>"},{"location":"relatorios/#m-check","title":"<code>m-check</code>","text":"<p>Este componente renderiza um campo <code>checkbox</code>, com os seguintes atributos:</p> Nome Descri\u00e7\u00e3o Valores Permitidos Valor Default option Define qual o valor ser\u00e1 enviado para o modelo * true inline Define se ser\u00e1 renderizado sem quebra de linha false, true false multiple Agrupa os CheckBox com o mesmo nome em um array false, true false <p>Exemplo:</p> <p></p> <pre><code>&lt;m-check label=\"Marque este campo\" v-model=\"filtros.texto\" :required=\"true\" /&gt;\n</code></pre>"},{"location":"relatorios/#m-radio","title":"<code>m-radio</code>","text":"<p>Este componente renderiza um campo <code>radio</code>, com os seguintes atributos:</p> Nome Descri\u00e7\u00e3o Valores Permitidos Valor Default option Define qual o valor ser\u00e1 enviado para o modelo * true inline Define se ser\u00e1 renderizado sem quebra de linha false, true false <p>Exemplo:</p> <p></p> <pre><code>&lt;m-radio label=\" Marque este campo\" option=\"0\" v-model=\"filtros.texto\" :required=\"true\" /&gt;\n</code></pre>"},{"location":"relatorios/#m-date","title":"<code>m-date</code>","text":"<p>Este componente renderiza um campo <code>input</code> do tipo <code>date</code>, com os seguintes atributos:</p> Nome Descri\u00e7\u00e3o Valores Permitidos Valor Default format Fun\u00e7\u00e3o destinada para a formata\u00e7\u00e3o de datas Function (JavaScript) - min Menor data permitida para o componente dd/MM/yyyy - max Maior data permitida para o componente dd/MM/yyyy - <p>Exemplo:</p> <p></p> <pre><code>&lt;m-date min=\"01/01/2000\" max=\"31/12/2100\" label=\"Selecione uma data\" v-model=\"filtros.data\" :required=\"true\" /&gt;\n</code></pre>"},{"location":"relatorios/#m-date-interval","title":"<code>m-date-interval</code>","text":"<p>Exibe um painel para informar um intervalo de datas, os atributos s\u00e3o iguais aos do m-date.</p> <p>Exemplo:</p> <p></p> <pre><code>&lt;m-date-interval min=\"01/01/2000\" max=\"31/12/2100\" label=\"Selecione duas datas\" v-model=\"filtros.data\" :required=\"true\" /&gt;\n</code></pre>"},{"location":"relatorios/#m-select","title":"<code>m-select</code>","text":"<p>Exibe um componente que pode ser renderizado como um ComboBox ou como um AutoComplete.</p> Nome Descri\u00e7\u00e3o Valores Permitidos Valor Default multiple Indica se \u00e9 permitido selecionar mais de um elemento true, false false placeholder Texto exibido quando nenhum item est\u00e1 selecionado * - selectFirstOnLoad Seleciona o primeiro elemento quando renderizado true, false false showClearButton Indica ir\u00e1 exibir o bot\u00e3o limpar true, false true options Array de objetos que ser\u00e3o exibidos no ComboBox Array[Object] - adicionaWherePadrao indica se deve adicionar o where padr\u00e3o \u00e0 select true, false true request Define como os dados para o componente ser\u00e3o obtidos Object - <p>Nota</p> <p>Para entender melhor o atributo <code>adicionaWherePadrao</code> veja nosso manual, nos t\u00f3picos: Tabelas, Grupos Centralizadores e Uso dos Registros. </p> <p>Existem duas maneiras de se preencher um ComboBox, atrav\u00e9s de dados fixos ou atrav\u00e9s de registros vindo do banco de dados, veja como realizar estas duas op\u00e7\u00f5es:</p>"},{"location":"relatorios/#atributo-options","title":"Atributo options","text":"<p>Este atributo permite iniciar o componente <code>m-select</code> com algumas op\u00e7\u00f5es default, estas op\u00e7\u00f5es podem ser definidas atrav\u00e9s do atributo <code>options</code>.</p> <p>O Objeto do Array pode ter 3 propriedades:</p> <ul> <li>value: Valor que ser\u00e1 enviado para o model.</li> <li>label: Valor que ser\u00e1 exibido no componente quando selecionado.</li> <li>option: Texto que ser\u00e1 exibido quando a caixa do ComboBox for aberta.</li> </ul> <p>Exemplo:</p> <p></p> HTMLJS <pre><code>&lt;m-select label=\"Op\u00e7\u00f5es\" :multiple=\"false\" placeholder=\"Selecione uma op\u00e7\u00e3o\" :options=\"opcoes\" /&gt;\n</code></pre> <pre><code>const classe = {\n    data: {\n        opcoes: [\n            {value: 0, label: 'Op\u00e7\u00e3o 1', option: 'Selecionado a op\u00e7\u00e3o 1'},\n            {value: 1, label: 'Op\u00e7\u00e3o 2', option: 'Selecionado a op\u00e7\u00e3o 1'},\n            {value: 2, label: 'Op\u00e7\u00e3o 3', option: 'Selecionado a op\u00e7\u00e3o 1'},\n        ] \n    },\n    onLoad: function () {},\n    methods: {}\n}\n</code></pre>"},{"location":"relatorios/#atributo-request","title":"Atributo request","text":"<p>Esse atributo define como os dados para o ComboBox ser\u00e3o obtidos no Servidor.</p> <p>O Objeto do Array pode ter 4 propriedades:</p> <ul> <li>table: Indicando qual a tabela da select.</li> <li>columns: Lista de colunas separadas por virgula.</li> <li>data: Indica se a select conter\u00e1 JOIN ou WHERE.<ul> <li>join: Array definido por chave e valor da seguinte forma:<ul> <li>inner: Indica que o valor referente a chave inner ser\u00e1 implementado como um INNER JOIN.</li> <li>left: Indica que o valor referente a chave left ser\u00e1 implementado como um LEFT JOIN.</li> </ul> </li> <li>where: Array definido por chave e valor da seguinte forma:<ul> <li>nome: Nome do campo a ser constitu\u00eddo com o seu valor no WHERE.</li> <li>valor: Valor a ser comparado no WHERE.</li> </ul> </li> <li>customWhere: String contendo uma condi\u00e7\u00e3o WHERE livre.</li> </ul> </li> <li>iniFimColumn: Por padr\u00e3o o retorno do componente <code>m-select</code> \u00e9 o campo ID da tabela. Esta propriedade altera a coluna que vir\u00e1 no resultado da request.</li> </ul> <p>Exemplo:</p> <p></p> HTMLJS <pre><code>&lt;m-select label=\"Usu\u00e1rios\" :multiple=\"false\" placeholder=\"Selecione uma op\u00e7\u00e3o\" :request=\"request\" /&gt;\n</code></pre> <pre><code>const classe = {\n    data: {\n        request: {\n            table: 'aab10',\n            columns: 'aab10nome, aab10email',\n            data : {\n                 join : { inner : 'aab10emprDefault' , left : 'aab10credSamPalm' }, \n                 where : { aab10user : 'MASTER'},\n                 customWhere : 'AND aab10id = 5000'\n            }\n\n        }\n    },\n    onLoad: function () {},\n    methods: {}\n}\n</code></pre>"},{"location":"relatorios/#m-panel-check-mpms","title":"<code>m-panel-check-mpms</code>","text":"<p>Este componente exibe um painel com 4 Checkbox que s\u00e3o utilizados para filtrar os registros de um <code>m-select</code> por Material, Produto, Mercadoria ou Servi\u00e7o.</p> <p>Nota</p> <p>Para entender melhor o componente <code>m-panel-check-mpms</code> veja nosso manual, no t\u00f3pico: Itens &gt; Tipos de Itens.</p> Nome Descri\u00e7\u00e3o Valores Permitidos Valor Default selectRef Indicando qual o REF do m-select que deseja controlar true, false - showMaterial Indica se ir\u00e1 exibir o check de Material * true showProduto Indica se ir\u00e1 exibir o check de Produto true, false true showMercadoria Indica se ir\u00e1 exibir o check de Mercadoria true, false true showServico Indica se ir\u00e1 exibir o check de Servi\u00e7o true, false true <p>Exemplo:</p> <p></p> HTMLJS <pre><code>&lt;m-panel-check-mpms selectRef=\"selectItem\" /&gt;\n&lt;m-select label=\"Itens\" :multiple=\"false\" ref=\"selectItem\" :request=\"request\" /&gt;\n</code></pre> <pre><code>const classe = {\n    data: {\n        request: {\n            table: 'abm01',\n            columns: 'abm01codigo, abm01na',\n        }\n    },\n    onLoad: function () {},\n    methods: {}\n}\n</code></pre>"},{"location":"relatorios/#m-panel-criterio","title":"<code>m-panel-criterio</code>","text":"<p>Este componente exibe um painel que permite a utiliza\u00e7\u00e3o dos crit\u00e9rios de sele\u00e7\u00e3o nos filtros.</p> <p>Nota</p> <p>Para entender melhor o componente <code>m-panel-criterio</code> veja nosso manual, no t\u00f3pico: Crit\u00e9rios de Sele\u00e7\u00e3o.</p> Nome Descri\u00e7\u00e3o Valores Permitidos Valor Default tipo Informa qual a aplica\u00e7\u00e3o do crit\u00e9rio entidade, item, trabalhador - <p>Exemplo:</p> <p></p> <pre><code>&lt;m-panel-criterio tipo=\"entidade\" v-model='filtros.criterios' /&gt;\n</code></pre>"},{"location":"relatorios/#metodos","title":"M\u00e9todos","text":"<p>Para facilitar o desenvolvimento das listagens o SAM conta com v\u00e1rios m\u00e9todos para realizar os mais diversos tipos de processos.</p> <p>Nota</p> <p>A partir de agora veremos alguns termos que s\u00e3o exclusivos do SAM, recomendamos fortemente que voc\u00ea leia e conhe\u00e7a um pouco mais sobre a estrutura do SAM. Visite nosso manual.</p>"},{"location":"relatorios/#obterempresaativa","title":"<code>obterEmpresaAtiva</code>","text":"<p>Este m\u00e9todo retorna um objeto do tipo Aac10 contendo os dados da empresa ativa.</p> Exemplo <pre><code>Aac10 aac10 = obterEmpresaAtiva()\n</code></pre>"},{"location":"relatorios/#obterusuariologado","title":"<code>obterUsuarioLogado</code>","text":"<p>Este m\u00e9todo retorna um objeto do tipo Aab10 contendo os dados do usu\u00e1rio logado no sistema.</p> Exemplo <pre><code>Aab10 aab10 = obterUsuarioLogado()\n</code></pre>"},{"location":"relatorios/#getacessoaobanco","title":"<code>getAcessoAoBanco</code>","text":"<p>Este m\u00e9todo retorna uma cole\u00e7\u00e3o de m\u00e9todos \u00fateis para manipula\u00e7\u00e3o do banco de dados descritos abaixo:</p> Metodo Descri\u00e7\u00e3o buscarListaDeTableMap Retorna uma lista de <code>TableMap</code> contendo os registros obtidos a partir da execu\u00e7\u00e3o de uma SQL. buscarUnicoTableMap Retorna um \u00fanico <code>TableMap</code> contendo o registro obtido a partir da execu\u00e7\u00e3o de uma SQL. buscarListaDeRegistros Retorna uma lista de registros (entidades) obtidos a partir da execu\u00e7\u00e3o de uma SQL. buscarRegistroUnico Retorna um \u00fanico registro (entidade) obtido a partir da execu\u00e7\u00e3o de uma SQL. buscarMultiResultSet Retorna um objeto <code>MultiResultSet</code> contendo os registros obtidos a partir da execu\u00e7\u00e3o de uma SQL. obterMapDeRegistros Retorna um <code>Map</code> contendo os registros obtidos a partir da execu\u00e7\u00e3o de uma SQL, usando coluna como chave/valor. obterListaDeBigDecimal Retorna uma lista de <code>BigDecimal</code> obtidos a partir da execu\u00e7\u00e3o de uma SQL. obterBigDecimal Retorna um \u00fanico <code>BigDecimal</code> obtido a partir da execu\u00e7\u00e3o de uma SQL. obterListaDeInteger Retorna uma lista de <code>Integer</code> obtidos a partir da execu\u00e7\u00e3o de uma SQL. obterInteger Retorna um \u00fanico <code>Integer</code> obtido a partir da execu\u00e7\u00e3o de uma SQL. obterListaDeDate Retorna uma lista de objetos <code>LocalDate</code> obtidos a partir da execu\u00e7\u00e3o de uma SQL. obterDate Retorna um \u00fanico objeto <code>LocalDate</code> obtido a partir da execu\u00e7\u00e3o de uma SQL. obterListaDeString Retorna uma lista de <code>String</code> obtidas a partir da execu\u00e7\u00e3o de uma SQL. obterString Retorna uma \u00fanica <code>String</code> obtida a partir da execu\u00e7\u00e3o de uma SQL. obterListaDeLong Retorna uma lista de <code>Long</code> obtidos a partir da execu\u00e7\u00e3o de uma SQL. obterLong Retorna um \u00fanico <code>Long</code> obtido a partir da execu\u00e7\u00e3o de uma SQL. buscarRegistroUnicoById Retorna um registro de uma tabela pelo ID informado como argumento. buscarRegistroUnicoByCriterion Retorna um registro de uma tabela filtrado por um <code>Criterion</code>."},{"location":"relatorios/#criarparametrosql","title":"<code>criarParametroSql</code>","text":"<p>Este m\u00e9todo retorna um objeto do tipo Parametro para ser utilizado nos m\u00e9todos que realizam a manipula\u00e7\u00e3o do banco de dados que vimos acima.</p> <p>Argumentos</p> Tipo Descri\u00e7\u00e3o String Chave Object Valor Exemplo <pre><code>String sql = \" SELECT * FROM Abm01 WHERE abm01codigo = :codigo AND abm01tipo = :tipo \"\n\nParametro paramCodigo = criarParametroSql(\"codigo\", \"0101001\")\nParametro paramTipo = criarParametroSql(\"tipo\", 0)\n</code></pre>"},{"location":"relatorios/#obterwherepadrao","title":"<code>obterWherePadrao</code>","text":"<p>Este m\u00e9todo retorna um WHERE filtrando pelos Campos Default para ser utilizado em SQLs.</p> <p>Argumentos</p> Tipo Descri\u00e7\u00e3o String Nome da Classe Object Comparador Ex.: WHERE, AND, OR ExemploRetorno <pre><code>String sql = \"SELECT * FROM Eaa01 WHERE eaa01id = 123 \" + obterWherePadrao(\"Eaa01\", \"AND\")\n</code></pre> <pre><code>\"SELECT * FROM Eaa01 WHERE eaa01id = 123 AND eaa01gc IN (1, 2, 3)\"\n</code></pre>"},{"location":"relatorios/#selecionaralinhamento","title":"<code>selecionarAlinhamento</code>","text":"<p>O alinhamento de valores permite fazer um alinhamento dos campos de registros contidos em um leiaute, uma f\u00f3rmula, em listagens para alinhar campos livres do sistema (Json), possibilitando usar nas f\u00f3rmulas um nome padronizado. Este m\u00e9todo seleciona qual alinhamento de valores ser\u00e1 utilizado no script</p> <p>Argumentos:</p> Tipo Descri\u00e7\u00e3o String C\u00f3digo do alinhamento Exemplo <pre><code>selecionarAlinhamento(\"0001\")\n</code></pre>"},{"location":"relatorios/#getcampo","title":"<code>getCampo</code>","text":"<p>Este m\u00e9todo retorna o campo informado no alinhamento de valores pelo conte\u00fado do registro. Este m\u00e9todo deve ser utilizado ap\u00f3s a utiliza\u00e7\u00e3o do m\u00e9todo <code>selecionarAlinhamento</code></p> <p>Argumentos:</p> Tipo Descri\u00e7\u00e3o String Registro String Campo Exemplo <pre><code>getCampo(\"C100\", \"ICMS\")\n</code></pre>"},{"location":"relatorios/#getsession","title":"<code>getSession</code>","text":"<p>Este m\u00e9todo retorna um objeto do tipo Session para manipular o banco de dados.</p> Exemplo <pre><code>Session session = getSession()\nsession.persist(xpto)\n</code></pre>"},{"location":"relatorios/#interromper","title":"<code>interromper</code>","text":"<p>Este m\u00e9todo lan\u00e7a uma exce\u00e7\u00e3o ao processo, interrompendo-o.</p> Tipo Descri\u00e7\u00e3o String Mensagem a ser exibida Exemplo <pre><code>interromper(\"Voc\u00ea n\u00e3o tem permiss\u00e3o para continuar.\")\n</code></pre>"},{"location":"relatorios/#get","title":"get()","text":"<p>Quando uma Listagem \u00e9 executada, alguns dados podem ser enviados para o processo, estes dados s\u00e3o conte\u00fado dos filtros. O envio deste dado \u00e9 feito atrav\u00e9s de um Mapa de chave e valor, para recuperar estes dados utilizamos o m\u00e9todo <code>get()</code> e suas varia\u00e7\u00f5es.</p> <p>Exemplo: Em uma listagem existe um campo de data e foi atribu\u00eddo o nome <code>dataDeInicio</code>.</p> <pre><code>&lt;m-date label=\"Data de Inicio\" v-model=\"filtros.dataDeInicio\" /&gt;\n</code></pre> <p>Para recuperar o conte\u00fado deste campo a partir do c\u00f3digo groovy utilizamos o m\u00e9todo <code>get()</code>.</p> <pre><code>def dataDeInicio = get(\"dataDeInicio\")\n</code></pre> <p>Este m\u00e9todo por si s\u00f3 retorna um objeto. Contamos com alguma varia\u00e7\u00f5es deste m\u00e9todo que nos trazem os dados j\u00e1 convertidos.</p> M\u00e9todo Retorno M\u00e9todo Retorno getString() Texto getLocalDate() Data getBoolean() Booleano getLocalTime() Hora getInteger() Inteiro getIntervaloDatas() Array de Datas getLong() Longo getListLong() Lista de Longos getBigDecimal() Decimal getListInteger() Lista de Inteiros"},{"location":"relatorios/#trunc","title":"<code>trunc</code>","text":"<p>Este m\u00e9todo trunca um valor Decimal para a quantidade de casas definido no argumento.</p> <p>Argumentos:</p> Tipo Descri\u00e7\u00e3o BigDecimal Decimal a arredondar int Casas decimais ExemploRetorno <pre><code>BigDecimal decimal = 12.8867899\nBigDecimal duasCasas = trunc(decimal, 3)\n</code></pre> <pre><code>12.886\n</code></pre>"},{"location":"scripts/","title":"Scripts de Opera\u00e7\u00e3o","text":""},{"location":"scripts/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>Dentre os script do SAM o Script de Opera\u00e7\u00f5es \u00e9 o \u00fanico que n\u00e3o \u00e9 desenvolvido pela ferramenta SAMDEV, ele \u00e9 constru\u00eddo dentro da pr\u00f3pria tarefa. Com ele o desenvolvedor pode criar regras operacionais diferentes para cada tarefa, manipular campos da tela, fazer valida\u00e7\u00f5es etc. Basicamente o desenvolvedor consegue manipular toda a tarefa. As telas do SAM s\u00e3o constru\u00eddas em JAVA com SWING, Swing \u00e9 um widget toolkit GUI para uso com o Java. Ele possui alguns componentes como, Campo de texto, campo num\u00e9rico, campo combo, etc. Cada um destes componentes possui algumas propriedades que podem ser alteradas para configurar tamanho, largura, altura, cor, fonte, etc.</p> <p>Um Script de Opera\u00e7\u00e3o permite a manipula\u00e7\u00e3o dos componentes de tela do SAM, interferir em a\u00e7\u00f5es ou processos ou at\u00e9 mesmo criar componentes, a\u00e7\u00f5es ou processos customizados.</p> <p>Os componentes de tela do SAM s\u00e3o constru\u00eddos a partir de componentes <code>Swing</code>, sendo assim, os m\u00e9todos aplic\u00e1veis aos componentes swing s\u00e3o aplicados aos componentes do SAM.</p> <p>As tarefas do SAM s\u00e3o divididas em dois tipos:</p> <ol> <li>Cadastros</li> <li>Processos</li> </ol> <p>Saiba Mais</p> <p>Para conhecer mais, veja alguns exemplos. </p>"},{"location":"scripts/#metodos","title":"M\u00e9todos","text":""},{"location":"scripts/#execute","title":"<code>execute</code>","text":"<p>Dispon\u00edvel por padr\u00e3o em todos os scripts, sendo executado antes da tarefa ser aberta, nele ser\u00e3o feitas as altera\u00e7\u00f5es em componentes visuais ou processos da tela.</p> Exemplo <pre><code>@Override \npublic void execute(MultitecRootPanel panel) {\n}\n</code></pre>"},{"location":"scripts/#presalvar","title":"<code>preSalvar</code>","text":"<p>Dispon\u00edvel por padr\u00e3o nos scripts das tarefas de cadastro, sendo executado nos cadastros sempre que o usu\u00e1rio salvar (F9) um registro.</p> Exemplo <pre><code>@Override \npublic void preSalvar(boolean salvo) {\n}\n</code></pre>"},{"location":"scripts/#possalvar","title":"<code>posSalvar</code>","text":"<p>Dispon\u00edvel por padr\u00e3o nos scripts das tarefas de cadastro, sendo executado nos cadastros ap\u00f3s o usu\u00e1rio salvar (F9) um registro.</p> Exemplo <pre><code>@Override \npublic void posSalvar(Long id) {\n}\n</code></pre>"},{"location":"scripts/#exibirinformacao","title":"<code>exibirInformacao</code>","text":"<p>Exibir em uma tela uma mensagem apenas informativa.</p> <p>Argumentos:</p> Tipo Descri\u00e7\u00e3o String Mensagem a ser exibida Exemplo <pre><code>exibirInformacao(\"Ol\u00e1 Mundo!\")\n</code></pre>"},{"location":"scripts/#exibiratencao","title":"<code>exibirAtencao</code>","text":"<p>Exibir em uma tela uma mensagem de alerta/aten\u00e7\u00e3o por\u00e9m sem interromper o processo.</p> <p>Argumentos:</p> Tipo Descri\u00e7\u00e3o String Mensagem a ser exibida Exemplo <pre><code>exibirAtencao(\"O saldo da conta corrente est\u00e1 negativo.\")\n</code></pre>"},{"location":"scripts/#exibirquestao","title":"<code>exibirQuestao</code>","text":"<p>Exibir em uma tela uma quest\u00e3o com dois bot\u00f5es [SIM, N\u00c3O] retornando [false] para [N\u00c3O] e [true] para [SIM].</p> <p>Argumentos:</p> Tipo Descri\u00e7\u00e3o String Mensagem a ser exibida Exemplo <pre><code>boolean resposta = exibirQuestao(\"Deseja continuar o processo?\")\n</code></pre>"},{"location":"scripts/#interromper","title":"<code>interromper</code>","text":"<p>Este m\u00e9todo lan\u00e7a uma exce\u00e7\u00e3o ao processo, interrompendo-o.</p> Tipo Descri\u00e7\u00e3o String Mensagem a ser exibida Exemplo <pre><code>interromper(\"Voc\u00ea n\u00e3o tem permiss\u00e3o para continuar.\")\n</code></pre>"},{"location":"scripts/#executarconsulta","title":"<code>executarConsulta</code>","text":"<p>Executa a SQL informada no banco de dados, retornando uma lista de TableMap.</p> <p>Argumentos:</p> Tipo Descri\u00e7\u00e3o String SQL a ser executada no banco de dados Exemplo <pre><code>List&lt;TableMap&gt; resultados = executarConsulta(\"SELECT * FROM Abh80 LIMIT 1\")\n</code></pre>"},{"location":"scripts/#executarsalvarouexcluir","title":"<code>executarSalvarOuExcluir</code>","text":"<p>Executa uma SQL sem retorno, ou seja, apenas uma SQL para salvar (INSERT/UPDATE) ou excluir (DELETE) um registro no banco de dados.</p> <p>Argumentos:</p> Tipo Descri\u00e7\u00e3o String SQL a ser executada no banco de dados Exemplo <pre><code>executarSalvarOuExcluir(\"UPDATE Abh80 SET abh80nome = 'Jos\u00e9'\")\n</code></pre>"},{"location":"scripts/#ocultarcolunas","title":"<code>ocultarColunas</code>","text":"<p>Oculta uma coluna de uma determinada Spread (Tabela) da tela.</p> <p>Argumentos:</p> Tipo Descri\u00e7\u00e3o MSpread Spread que ter\u00e1 as colunas ocultas int \u00cdndice das colunas que ser\u00e3o ocultas separadas por virgula Exemplo <pre><code>MSpread spread = getComponente(\"nomeSpread\")\nocultarColunas(spread, 0, 3, 5, 10)\n</code></pre>"},{"location":"scripts/#criarmenu","title":"<code>criarMenu</code>","text":"<p>Cria um menu na parte superior da tarefa</p> <p>Argumentos:</p> Tipo Descri\u00e7\u00e3o String Nome do Menu String Nome do Item do Menu ActionListener Fun\u00e7\u00e3o que ser\u00e1 executada ao clicar no menu KeyStroke Atalho no teclado para chamar o menu Exemplo <pre><code>criarMenu(\"Valida\u00e7\u00f5es\", \"Validar Item\", e -&gt; validarItem(), null);\n</code></pre>"},{"location":"scripts/#alterartamanhotela","title":"<code>alterarTamanhoTela</code>","text":"<p>Altera a altura e a largura da tela somando os valores recebido como argumento ao tamanho original.</p> <p>Argumentos:</p> Tipo Descri\u00e7\u00e3o int Largura que a tela ser\u00e1 alterada int Altura que a tela ser\u00e1 alterada Exemplo <pre><code>alterarTamanhoTela(10, 50)\n</code></pre>"},{"location":"scripts/#obterempresaativa","title":"<code>obterEmpresaAtiva</code>","text":"<p>Este m\u00e9todo retorna um objeto do tipo Aac10 contendo os dados da empresa ativa.</p> Exemplo <pre><code>Aac10 aac10 = obterEmpresaAtiva()\n</code></pre>"},{"location":"scripts/#obterusuariologado","title":"<code>obterUsuarioLogado</code>","text":"<p>Este m\u00e9todo retorna um objeto do tipo Aab10 contendo os dados do usu\u00e1rio logado no sistema.</p> Exemplo <pre><code>Aab10 aab10 = obterUsuarioLogado()\n</code></pre>"},{"location":"scripts/#obterwherepadrao","title":"<code>obterWherePadrao</code>","text":"<p>Este m\u00e9todo retorna um WHERE filtrando pelos Campos Default para ser utilizado em SQLs.</p> <p>Argumentos</p> Tipo Descri\u00e7\u00e3o String Nome da Classe Object Comparador Ex.: WHERE, AND, OR ExemploRetorno <pre><code>String sql = \"SELECT * FROM Eaa01 WHERE eaa01id = 123 \" + obterWherePadrao(\"Eaa01\", \"AND\")\n</code></pre> <pre><code>\"SELECT * FROM Eaa01 WHERE eaa01id = 123 AND eaa01gc IN (1, 2, 3)\"\n</code></pre>"},{"location":"servlet/","title":"Servlet","text":""},{"location":"servlet/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>Uma Servlet funciona como um pequeno servidor, cujo objetivo \u00e9 basicamente receber requisi\u00e7\u00f5es HTTP, process\u00e1-las e responder ao cliente, essa resposta pode ser um JSON, um HTML, uma imagem etc.</p>"},{"location":"servlet/#headers","title":"Headers","text":"Nome Valor Fun\u00e7\u00e3o Requerido api-user-header Chave da API do SAM Autenticar a requisi\u00e7\u00e3o SIM ignore-body-decrypt <code>true</code> ou <code>false</code> Ignora a criptografia do corpo da requisi\u00e7\u00e3o N\u00c3O <p>Saiba Mais</p> <p>Para conhecer mais, veja alguns exemplos. </p>"},{"location":"servlet/#metodos","title":"M\u00e9todos","text":""},{"location":"servlet/#obterempresaativa","title":"<code>obterEmpresaAtiva</code>","text":"<p>Este m\u00e9todo retorna um objeto do tipo Aac10 contendo os dados da empresa ativa.</p> Exemplo <pre><code>Aac10 aac10 = obterEmpresaAtiva()\n</code></pre>"},{"location":"servlet/#obterusuariologado","title":"<code>obterUsuarioLogado</code>","text":"<p>Este m\u00e9todo retorna um objeto do tipo Aab10 contendo os dados do usu\u00e1rio logado no sistema.</p> Exemplo <pre><code>Aab10 aab10 = obterUsuarioLogado()\n</code></pre>"},{"location":"servlet/#getacessoaobanco","title":"<code>getAcessoAoBanco</code>","text":"<p>Este m\u00e9todo retorna uma cole\u00e7\u00e3o de m\u00e9todos \u00fateis para manipula\u00e7\u00e3o do banco de dados descritos abaixo:</p> Metodo Descri\u00e7\u00e3o buscarListaDeTableMap Retorna uma lista de <code>TableMap</code> contendo os registros obtidos a partir da execu\u00e7\u00e3o de uma SQL. buscarUnicoTableMap Retorna um \u00fanico <code>TableMap</code> contendo o registro obtido a partir da execu\u00e7\u00e3o de uma SQL. buscarListaDeRegistros Retorna uma lista de registros (entidades) obtidos a partir da execu\u00e7\u00e3o de uma SQL. buscarRegistroUnico Retorna um \u00fanico registro (entidade) obtido a partir da execu\u00e7\u00e3o de uma SQL. buscarMultiResultSet Retorna um objeto <code>MultiResultSet</code> contendo os registros obtidos a partir da execu\u00e7\u00e3o de uma SQL. obterMapDeRegistros Retorna um <code>Map</code> contendo os registros obtidos a partir da execu\u00e7\u00e3o de uma SQL, usando coluna como chave/valor. obterListaDeBigDecimal Retorna uma lista de <code>BigDecimal</code> obtidos a partir da execu\u00e7\u00e3o de uma SQL. obterBigDecimal Retorna um \u00fanico <code>BigDecimal</code> obtido a partir da execu\u00e7\u00e3o de uma SQL. obterListaDeInteger Retorna uma lista de <code>Integer</code> obtidos a partir da execu\u00e7\u00e3o de uma SQL. obterInteger Retorna um \u00fanico <code>Integer</code> obtido a partir da execu\u00e7\u00e3o de uma SQL. obterListaDeDate Retorna uma lista de objetos <code>LocalDate</code> obtidos a partir da execu\u00e7\u00e3o de uma SQL. obterDate Retorna um \u00fanico objeto <code>LocalDate</code> obtido a partir da execu\u00e7\u00e3o de uma SQL. obterListaDeString Retorna uma lista de <code>String</code> obtidas a partir da execu\u00e7\u00e3o de uma SQL. obterString Retorna uma \u00fanica <code>String</code> obtida a partir da execu\u00e7\u00e3o de uma SQL. obterListaDeLong Retorna uma lista de <code>Long</code> obtidos a partir da execu\u00e7\u00e3o de uma SQL. obterLong Retorna um \u00fanico <code>Long</code> obtido a partir da execu\u00e7\u00e3o de uma SQL. buscarRegistroUnicoById Retorna um registro de uma tabela pelo ID informado como argumento. buscarRegistroUnicoByCriterion Retorna um registro de uma tabela filtrado por um <code>Criterion</code>."},{"location":"servlet/#criarparametrosql","title":"<code>criarParametroSql</code>","text":"<p>Este m\u00e9todo retorna um objeto do tipo Parametro para ser utilizado nos m\u00e9todos que realizam a manipula\u00e7\u00e3o do banco de dados que vimos acima.</p> <p>Argumentos</p> Tipo Descri\u00e7\u00e3o String Chave Object Valor Exemplo <pre><code>String sql = \" SELECT * FROM Abm01 WHERE abm01codigo = :codigo AND abm01tipo = :tipo \"\n\nParametro paramCodigo = criarParametroSql(\"codigo\", \"0101001\")\nParametro paramTipo = criarParametroSql(\"tipo\", 0)\n</code></pre>"},{"location":"servlet/#obterwherepadrao","title":"<code>obterWherePadrao</code>","text":"<p>Este m\u00e9todo retorna um WHERE filtrando pelos Campos Default para ser utilizado em SQLs.</p> <p>Argumentos</p> Tipo Descri\u00e7\u00e3o String Nome da Classe Object Comparador Ex.: WHERE, AND, OR ExemploRetorno <pre><code>String sql = \"SELECT * FROM Eaa01 WHERE eaa01id = 123 \" + obterWherePadrao(\"Eaa01\", \"AND\")\n</code></pre> <pre><code>\"SELECT * FROM Eaa01 WHERE eaa01id = 123 AND eaa01gc IN (1, 2, 3)\"\n</code></pre>"},{"location":"servlet/#getsession","title":"<code>getSession</code>","text":"<p>Este m\u00e9todo retorna um objeto do tipo Session para manipular o banco de dados.</p> Exemplo <pre><code>Session session = getSession()\nsession.persist(xpto)\n</code></pre>"},{"location":"servlet/#interromper","title":"<code>interromper</code>","text":"<p>Este m\u00e9todo lan\u00e7a uma exce\u00e7\u00e3o ao processo, interrompendo-o.</p> Tipo Descri\u00e7\u00e3o String Mensagem a ser exibida Exemplo <pre><code>interromper(\"Voc\u00ea n\u00e3o tem permiss\u00e3o para continuar.\")\n</code></pre>"},{"location":"servlet/#convertercorporequisicaoparastring","title":"<code>converterCorpoRequisicaoParaString</code>","text":"<p>Este m\u00e9todo converte o corpo da requisi\u00e7\u00e3o enviado a um Servlet para String.</p> Exemplo <pre><code>String body = converterCorpoRequisicaoParaString()\n</code></pre>"},{"location":"servlet/#convertercorporequisicaoparaobjeto","title":"<code>converterCorpoRequisicaoParaObjeto</code>","text":"<p>Este m\u00e9todo converte o corpo da requisi\u00e7\u00e3o enviado a um Servlet para um objeto do tipo informado como argumento.</p> <p>Argumentos:</p> Tipo Descri\u00e7\u00e3o Class&lt;?&gt; Tipo do objeto que ser\u00e1 convertido Exemplo <pre><code>TableMap body = converterCorpoRequisicaoParaObjeto(TableMap.class)\n</code></pre>"},{"location":"servlet/#getparametrorequisicao","title":"<code>getParametroRequisicao</code>","text":"<p>Este m\u00e9todo retorna o conte\u00fado de um par\u00e2metro enviado ao Servlet via URL.</p> <p>Argumentos:</p> Tipo Descri\u00e7\u00e3o String Nome do par\u00e2metro Exemplo <pre><code>// URL: https://endereco.sam/caminhoServlet?id_registro=12345\ndef id_registro = getParametroRequisicao(\"id_registro\")\n</code></pre>"},{"location":"tiposProcessos/","title":"Tipos de Processos","text":"<p>Abaixo voc\u00ea entender\u00e1 melhor sobre alguns processos que podem ser customizados no SAM.</p>"},{"location":"tiposProcessos/#extracao-de-dados","title":"Extra\u00e7\u00e3o de dados","text":"<p>O processo de Extra\u00e7\u00e3o de dados consiste em se comunicar com bancos de dados para capturar os dados que ser\u00e3o disponibilizados para o sistema destino. Toda a extra\u00e7\u00e3o de informa\u00e7\u00f5es da base de dados \u00e9 atrav\u00e9s de consultas, listagens, relat\u00f3rios, resumos, estat\u00edsticas, demonstra\u00e7\u00f5es, an\u00e1lises, documentos fiscais e n\u00e3o fiscais etc.</p>"},{"location":"tiposProcessos/#listagens","title":"Listagens","text":"<p>As Listagens s\u00e3o documentos que disponibilizam informa\u00e7\u00f5es claras e objetivas de setores da empresa, contando sempre com informa\u00e7\u00f5es atualizadas e confi\u00e1veis, fornecendo dados que s\u00e3o utilizados como base para a tomada de decis\u00e3o e planejamento de a\u00e7\u00f5es. \u00c9 preciso apresentar esses dados em um formato que facilite a interpreta\u00e7\u00e3o. S\u00e3o apresentados em forma de tabelas e comparativos, mas podem ser mais completos e estruturados.</p>"},{"location":"tiposProcessos/#cubo-de-decisoes","title":"Cubo de Decis\u00f5es","text":"<p>Esta ferramenta auxilia na tomada de decis\u00e3o da empresa, portanto, \u00e9 importante o desenvolvedor conhecer este meio mais f\u00e1cil para obter melhores resultados. O Cubo de Decis\u00f5es possibilita visualizar as atividades da empresa de modo gr\u00e1fico e simplificado, bem como o seu desempenho, potenciais riscos ou desvios do planejado e a capacidade de obter indicadores de gest\u00e3o.</p>"},{"location":"tiposProcessos/#gadgets","title":"Gadgets","text":"<p>Gadgets s\u00e3o elementos que possuem uma fun\u00e7\u00e3o, adicionar conte\u00fado extra ao painel do SAMERP. Por exemplo, gadgets podem realizar consultas no banco de dados e exibir o conte\u00fado em forma de gr\u00e1ficos, listas, \u00edcones e muito mais. Os gadgets s\u00e3o constru\u00eddos a partir de um c\u00f3digo HTML, podendo usar CSS e Javascript, e tamb\u00e9m em Groovy. Os gadgets podem ser colocados em qualquer lugar do painel, na realidade, tudo que voc\u00ea precisa fazer \u00e9 arrastar e soltar o gadget at\u00e9 a \u00e1rea escolhida.</p>"},{"location":"tiposProcessos/#regras-de-negocios","title":"Regras de Neg\u00f3cios","text":"<p>Regras de neg\u00f3cio s\u00e3o padr\u00f5es que condicionam o funcionamento do neg\u00f3cio, sendo comumente aplicadas no contexto da arquitetura de softwares. Voc\u00ea pode escrever suas regras de neg\u00f3cio atrav\u00e9s de f\u00f3rmulas, interceptadores ou scripts de opera\u00e7\u00f5es, possibilitando produzir ou validar dados que venham dar respostas, mais adequadas \u00e0 gest\u00e3o de seus neg\u00f3cios.</p>"},{"location":"tiposProcessos/#formulas","title":"F\u00f3rmulas","text":"<p>Uma f\u00f3rmula \u00e9 um m\u00e9todo pr\u00e1tico de resolver um assunto, dar instru\u00e7\u00f5es ou expressar uma opera\u00e7\u00e3o. Em algumas tarefas do SAM4 o processamento de dados pode ser feito de forma customizada, ou seja, cada empresa pode processar livremente. Essas customiza\u00e7\u00f5es s\u00e3o feitas atrav\u00e9s das f\u00f3rmulas. Por exemplo, c\u00e1lculo de documentos, c\u00e1lculo de folha de pagamento, manipula\u00e7\u00e3o de valores de itens no estoque.</p>"},{"location":"tiposProcessos/#interceptacao","title":"Intercepta\u00e7\u00e3o","text":"<p>Interceptor, como o pr\u00f3prio nome sugere, nos permite de forma bem simples interceptar e configurar requisi\u00e7\u00f5es antes delas serem disparadas para o banco de dados. Isso possibilita fazer uma imensid\u00e3o de coisas, um exemplo seria validar se a requisi\u00e7\u00e3o est\u00e1 de acordo com os padr\u00f5es de cadastro de uma determinada empresa, ou de repente bloquear determinados usu\u00e1rios de realizar estas requisi\u00e7\u00f5es, e at\u00e9 tratar objetos antes de terminar a requisi\u00e7\u00e3o. As possibilidades s\u00e3o in\u00fameras.</p>"},{"location":"tiposProcessos/#scripts-de-operacoes","title":"Scripts de Opera\u00e7\u00f5es","text":"<p>Dentre os script do SAM o Script de Opera\u00e7\u00f5es \u00e9 o \u00fanico que n\u00e3o \u00e9 desenvolvido pela ferramenta SAMDEV, ele \u00e9 constru\u00eddo dentro da pr\u00f3pria tarefa. Com ele o desenvolvedor pode criar regras operacionais diferentes para cada tarefa, manipular campos da tela, fazer valida\u00e7\u00f5es etc. Basicamente o desenvolvedor consegue manipular toda a tarefa. As telas do SAM s\u00e3o constru\u00eddas em JAVA com SWING, Swing \u00e9 um widget toolkit GUI para uso com o Java. Ele possui alguns componentes como, Campo texto, campo num\u00e9rico, campo combo, etc. Cada um destes componentes possui algumas propriedades que podem ser alteradas para configurar tamanho, largura, altura, cor, fonte, etc.</p>"},{"location":"tiposProcessos/#integracao-com-o-sam","title":"Integra\u00e7\u00e3o com o SAM","text":"<p>A integra\u00e7\u00e3o com o SAM pode ser realizada fazendo ou recebendo requisi\u00e7\u00f5es de outros sistemas, APIs, servi\u00e7os etc. Essa integra\u00e7\u00e3o pode ser realizada atrav\u00e9s das SERVLETS.</p>"},{"location":"tiposProcessos/#servlets","title":"Servlets","text":"<p>Uma Servlet d\u00e1 uma ideia de servidor pequeno cujo objetivo basicamente \u00e9 receber requisi\u00e7\u00f5es HTTP, process\u00e1-las e responder ao cliente, essa resposta pode ser um JSON, um HTML, uma imagem etc.</p>"},{"location":"debug/formulas/","title":"Debug de Formulas","text":"<p>\u00c9 poss\u00edvel debugar formulas, relatorios e interceptadores.</p>"},{"location":"debug/formulas/#requisitos","title":"Requisitos","text":"<ul> <li>Intellij</li> <li>Java 21</li> </ul>"},{"location":"debug/formulas/#primeiros-passos","title":"Primeiros passos","text":"<ol> <li>Baixar o projeto base nos arquivos da Task.</li> <li>Baixar a biblioteca das formulas da Task.</li> </ol>"},{"location":"debug/formulas/#importar-o-projeto","title":"Importar o projeto","text":"<ol> <li>No intellij abra o menu File-&gt;Open selecione a pasta do projeto das formulas.</li> <li>Dentro do Intellij crie uma pasta chamada lib na pasta raiz do projeto.</li> <li>Copie os arquivos sam4-server.jar e sam4-shared.jar da biblioteca das formulas na pasta lib.</li> </ol> Imagem 1"},{"location":"debug/formulas/#configurando-o-projeto","title":"Configurando o Projeto","text":"<ol> <li> <p>Configurando o JDK do Java</p> <ul> <li>Abra o Menu File-&gt;Project Structure.</li> <li>Em Project selecione o JDK do java 21.</li> <li>Aplique as altera\u00e7\u00f5es.</li> </ul> Imagem 1Imagem 2 <p></p> <p></p> </li> <li> <p>Configurando as dependencias</p> <ul> <li>Ainda em File-&gt;Project Structure navegue at\u00e9 a aba Modules.</li> <li>Selecione o projeto.</li> <li>Na op\u00e7\u00e3o + selecione JARs or Directories</li> <li>selecione os dois JARs da pasta lib</li> <li>Aplique as altera\u00e7\u00f5es</li> </ul> Imagem 1Imagem 2 <p></p> <p></p> </li> <li> <p>Salve e compile o projeto</p> </li> </ol>"},{"location":"debug/formulas/#atualizando-a-biblioteca-das-formulas","title":"Atualizando a biblioteca das formulas","text":"<ol> <li>Substitua os dois JARs da pasta lib pelos JARs da nova vers\u00e3o, normalmente apenas esse passo resolve, mas pode precisar seguir os demais passos.</li> <li>Em File-&gt;Project Structure navegue at\u00e9 a aba Modules.</li> <li>Selecione o projeto.</li> <li>Ache e remova os dois JARs na lista de dependencias.</li> <li>Adicione os dois novos JARs.</li> <li>Salve e compile o projeto.</li> </ol>"},{"location":"debug/formulas/#iniciando-o-debug","title":"Iniciando o Debug","text":"<ol> <li> <p>Iniciando o Servidor do SAM4 em modo Debug, utilize o .bat abaixo</p> <ul> <li>Substitua \"C:\\FonteSam4\\formulas_multitec\" pelo caminho do seu projeto de formulas</li> <li>Salve o arquivo .bat dentro da pasta do SAM4Server.</li> </ul> <p><pre><code>java -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005 -D\"multitec.formula-dev-dir\"=\"C:\\FonteSam4\\formulas_multitec\" -D\"spring.profiles.active=development\" -jar ./lib/SAM4Servidor-executavel.jar\n</code></pre> 2. Configurando o Intellij - Abra as configura\u00e7\u00f5es de debugs em Edit Configurations. - Adicione uma nova configura\u00e7\u00e3o do tipo Remote JVM Debug. - Renomeie a configura\u00e7\u00e3o e aplique. - Inicie o debug no intellij.</p> Imagem 1Imagem 2Imagem 3Imagem 4 <p></p> <p></p> <p></p> <p></p> </li> </ol>"},{"location":"debug/scripts/","title":"Debug de Script de opera\u00e7\u00f5es","text":"<p>\u00c9 poss\u00edvel fazer o debug de um script de opera\u00e7\u00f5es.</p>"},{"location":"debug/scripts/#requisitos","title":"Requisitos","text":"<ol> <li>Intellij</li> <li>Java 21</li> </ol>"},{"location":"debug/scripts/#primeiros-passos","title":"Primeiros passos","text":"<ol> <li>Crie um novo projeto java maven pelo Intellij com java 21.</li> <li>Crie uma pasta lib na raiz do projeto.</li> <li>Copie o JAR executavel do SAM4Cliente para a pasta lib.</li> </ol> Imagem 1Imagem 2"},{"location":"debug/scripts/#configurando","title":"Configurando","text":"<ol> <li> <p>Configurando a dependencia</p> <ul> <li>Em File-&gt;Project Structure navegue at\u00e9 a aba Modules.</li> <li>Selecione o projeto.</li> <li>Na op\u00e7\u00e3o + selecione JARs or Directories</li> <li>selecione o JAR da pasta lib</li> <li>Aplique as altera\u00e7\u00f5es</li> </ul> Imagem 1Imagem 2 <p></p> <p></p> </li> <li> <p>Crie um package chamado main e scripts.</p> Imagem 1 <p></p> </li> <li> <p>No arquivo Main.java chame a classe Main do SAM4Cliente.</p> <pre><code>    package main;\n    public class Main {\n        public static void main(String[] args) {\n            sam.swing.Main.main(args);\n        }\n    }\n</code></pre> </li> <li> <p>No arquivo Script.groovy no package script, a classe deve extender o classe ScriptBase do SAM.</p> <p>Nesse arquivo ficar\u00e1 o script a ser debugado.</p> <p>Nota</p> <p>O codigo desse script precisa ser igual no intellij e na tela do SAM, qualquer altera\u00e7\u00e3o feita aqui precisa ser feita na tela da tarefa, como se fosse um script normal, precisa salvar, compilar, fechar e abrir a tela.</p> <pre><code>    package scripts\n\n    import multitec.swing.core.MultitecRootPanel\n    import sam.swing.ScriptBase\n\n    class Script extends ScriptBase{\n        @Override\n        void execute(MultitecRootPanel panel) {\n        }\n\n        @Override\n        void preSalvar(boolean salvo) {\n        }\n\n        @Override\n        void posSalvar(Long id) {\n        }\n    }\n</code></pre> </li> <li> <p>Salve e compile o projeto</p> </li> </ol>"},{"location":"debug/scripts/#atualizando-o-sam4cliente","title":"Atualizando o SAM4Cliente","text":"<ol> <li>Substitua o JAR da pasta lib pelo JAR da nova vers\u00e3o, normalmente apenas esse passo resolve, mas pode precisar seguir os demais passos.</li> <li>Em File-&gt;Project Structure navegue at\u00e9 a aba Modules.</li> <li>Selecione o projeto.</li> <li>Ache e remova o JAR na lista de dependencias.</li> <li>Adicione o novo JAR.</li> <li>Salve e compile o projeto.</li> </ol>"},{"location":"debug/scripts/#iniciando-o-debug","title":"Iniciando o Debug","text":"<ol> <li> <p>Configurando o Intellij</p> <ul> <li>Abra as configura\u00e7\u00f5es de debugs em Edit Configurations.</li> <li>Adicione uma nova configura\u00e7\u00e3o do tipo Aplication.</li> <li>Renomeie a configura\u00e7\u00e3o.</li> <li>Selecione o JDK do java 21.</li> <li>Selecione tambem a classe Main do projeto.</li> <li>Aplique as altera\u00e7\u00f5es.</li> <li>Inicie o debug no intellij.</li> </ul> Imagem 1Imagem 2Imagem 3 <p></p> <p></p> <p></p> </li> </ol>"},{"location":"exemplos/scripts/","title":"Exemplos Script de Opera\u00e7\u00e3o","text":""},{"location":"exemplos/scripts/#ocultar-coluna-da-spread","title":"Ocultar coluna da spread","text":"<p>Ocultando algumas colunas da spread, o m\u00e9todo ocultarColunas recebe a spread e os indices das colunas a serem ocultadas</p> <p>Aten\u00e7\u00e3o</p> <p>Este script somente OCULTA a coluna, sendo assim \u00e9 necess\u00e1rio considerar a mesma na contagem do \u00edndice</p> <pre><code>    @Override\n    public void execute(MultitecRootPanel tarefa) {\n        MSpread sprEaa0103s = getComponente(\"sprEaa0103s\");\n        ocultarColunas(sprEaa0103s, 0, 1, 2, 3, 4, 5);\n    }\n</code></pre>"},{"location":"exemplos/scripts/#ocultar-campo-livre-da-spread","title":"Ocultar campo livre da spread","text":"<p>Adiciona um evento ao perder o foco do campo de <code>tipo de documento</code>, pode ser alterado para outro campo ou evento, para remover um campo livre da spread.</p> <p>Aten\u00e7\u00e3o</p> <p>Sempre passar o nome do campo no banco (Ex.: eaa01json) seguido de . (ponto) e o nome do campo livre</p> <pre><code> @Override\n    public void execute(MultitecRootPanel tarefa) {\n        MNavigationController nvgAah01codigo = getComponente(\"nvgAah01codigo\");\n        nvgAah01codigo.addFocusListener(new FocusAdapter() {\n            @Override\n            public void focusLost(FocusEvent e) {\n                MSpread sprEaa0103s = getComponente(\"sprEaa0103s\");\n                ocultarColunas(sprEaa0103s, \"eaa0103json.vlr_total_docum\", \"\", \"\");\n            }\n        });\n    }\n</code></pre>"},{"location":"exemplos/scripts/#alterar-tamanho-da-tela","title":"Alterar tamanho da tela","text":"<p>Altera o tamanho da tela, largura e altura.</p> <pre><code>    @Override\n    public void execute(MultitecRootPanel tarefa) {\n        Window tela = tarefa.getWindow();\n        tela.setBounds((int) tela.getBounds().x, (int) tela.getBounds().y, (int) tela.getBounds().width, (int) tela.getBounds().height + 50);\n    }\n</code></pre>"},{"location":"exemplos/scripts/#sobrescrever-metodo-windowload","title":"Sobrescrever metodo windowLoad","text":"<p>O m\u00e9todo windowLoad \u00e9 executado no momento que a tela est\u00e1 sendo carregada, algumas altera\u00e7\u00f5es  em tela precisam ser feitas ap\u00f3s esse m\u00e9todo.</p> <p>Aten\u00e7\u00e3o</p> <p>Lembre-se de sempre executar o windowLoad original antes do seu c\u00f3digo</p> <pre><code>public class Script extends sam.swing.ScriptBase{\n    public Runnable  windowLoadOriginal;\n\n    @Override\n    public void execute(MultitecRootPanel tarefa) {\n        this.windowLoadOriginal = tarefa.windowLoad ;\n        tarefa.windowLoad = {novoWindowLoad()};\n    }\n\n    protected void novoWindowLoad(){\n        this.windowLoadOriginal.run();\n        // Execute seu codigo aqui, valida\u00e7\u00e3o, altera\u00e7\u00e3o etc...\n    }\n}\n</code></pre>"},{"location":"exemplos/scripts/#sobrescrever-metodo-cancelar","title":"Sobrescrever m\u00e9todo cancelar","text":"<p>Sobrescrever o m\u00e9todo cancelar de uma tela. Podendo ser usado para valida\u00e7\u00f5es ou processar dados.</p> <p>Aten\u00e7\u00e3o</p> <p>Lembre-se de sempre executar o cancelar original depois do seu c\u00f3digo</p> <pre><code>public class Script extends sam.swing.ScriptBase{\n    public Runnable  cancelarOriginal;\n\n    @Override\n    public void execute(MultitecRootPanel tarefa) {\n        this.cancelarOriginal = tarefa.cancelar;\n        tarefa.cancelar = {novoCancelar()};\n    }\n\n    protected void novoCancelar(){\n        throw new ValidacaoException(\"Valida\u00e7\u00e3o ao cancelar\")\n        this.cancelarOriginal.run()\n    }\n}\n</code></pre>"},{"location":"exemplos/scripts/#abrir-uma-outra-tarefa","title":"Abrir uma outra tarefa","text":"<p>Pode abrir uma nova tarefa ao disparar algum evento, clique em um bot\u00e3o ou alguma condi\u00e7\u00e3o.</p> <pre><code>public class Script  extends sam.swing.ScriptBase{\n    private MultitecRootPanel tarefa;\n\n    @Override\n    public void execute(MultitecRootPanel tarefa) {\n        this.tarefa = tarefa;\n    }\n\n    private void abrirTarefaSCV2002() {\n        try {\n            SCV2002 scv2002 = new SCV2002();\n            WindowUtils.createJDialog(scv2002.getWindow(), scv2002);\n            scv2002.open.run();\n        } catch (Exception err) {\n            ErrorDialog.defaultCatch(this.tarefa.getWindow(), err);\n        }\n    }\n}\n</code></pre>"},{"location":"exemplos/scripts/#alterar-funcao-f5-da-spread","title":"Alterar fun\u00e7\u00e3o F5 da spread","text":"<p>\u00c9 poss\u00edvel executar uma fun\u00e7\u00e3o ap\u00f3s o F5 em uma spread, servindo para validar ou preencher algum campo de forma autom\u00e1tica.</p> <pre><code>class Script  extends sam.swing.ScriptBase{\n    @Override\n    public void execute(MultitecRootPanel tarefa) {\n        MSpread sprAbe0101s = getComponente(\"sprAbe0101s\");\n        sprAbe0101s.f5Consumer = sprAbe0101s.f5Consumer.andThen({f5Consumer()});\n    }\n\n    public Consumer&lt;Integer&gt; f5Consumer() {\n        MSpread sprAbe0101s = getComponente(\"sprAbe0101s\");\n        MTextFieldString txtAbe01ni = getComponente(\"txtAbe01ni\");\n        MTextFieldString txtAbe01ie = getComponente(\"txtAbe01ie\");\n\n        sprAbe0101s.setValueAt(txtAbe01ni.getValue(), 0, \"abe0101ni\");\n        sprAbe0101s.setValueAt(txtAbe01ie.getValue(), 0, \"abe0101ie\");\n    }\n}\n</code></pre>"},{"location":"exemplos/scripts/#desabilitar-campo-de-navegacao","title":"Desabilitar campo de navega\u00e7\u00e3o","text":"<p>Desabilitando campo de navega\u00e7\u00e3o</p> <pre><code>private void desabilitarTipo(Eaa01 eaa01){\n    MNavigation nvgAah01codigo = getComponente(\"nvgAah01codigo\");\n    nvgAah01codigo.setEnabled(false);\n    nvgAah01codigo.setEditable(false);\n}\n</code></pre>"},{"location":"exemplos/scripts/#adicionar-funcao-no-menu-cancelar","title":"Adicionar fun\u00e7\u00e3o no menu cancelar","text":"<p>Adiciona uma nova fun\u00e7\u00e3o na op\u00e7\u00e3o cancelar alem da fun\u00e7\u00e3o default.</p> <pre><code>class Script extends sam.swing.ScriptBase{\n    @Override\n    public void execute(MultitecRootPanel tarefa) {\n        tarefa.getWindow().getJMenuBar().getMnuArquivo().getMniCancelar().addActionListener(mnu -&gt; this.mniCancelarActionListener(mnu));\n    }\n\n    protected void mniCancelarActionListener(ActionEvent evt) {\n        if(!exibirQuestao(\"Deseja realmente sair sem SALVAR?\")) interromper(\"Por favor salvar antes de SAIR.\");\n    }\n}\n</code></pre>"},{"location":"exemplos/scripts/#sobrescrever-keylistener-de-componentes","title":"Sobrescrever KeyListener de componentes","text":"<p>\u00c9 poss\u00edvel sobreescrever o KeyListener de um determinado componente.</p> <p>Aten\u00e7\u00e3o</p> <p>Lembre-se de sempre executar o KeyListener original antes ou depois do seu c\u00f3digo.</p> <pre><code>class Script extends sam.swing.ScriptBase{\n    private KeyListener[] keyListenersOriginais\n\n    @Override\n    public void execute(MultitecRootPanel tarefa) {\n        MTextFieldString txtColetar = getComponente(\"txtColetar\");\n        this.keyListenersOriginais = txtColetar.getKeyListeners();\n        if(this.keyListenersOriginais != null &amp;&amp; this.keyListenersOriginais.size() &gt; 0){\n            for(KeyListener listener in this.keyListenersOriginais){\n                txtColetar.removeKeyListener(listener)\n            }\n        }\n        txtColetar.addKeyListener(new KeyAdapter() {\n            @Override\n            public void keyPressed(KeyEvent e) {\n                if(e.getKeyCode() == KeyEvent.VK_ENTER) {\n                    keyListenerCustom(e);\n                }\n            }\n        });\n\n    }\n\n    public void keyListenerCustom(KeyEvent event){\n        //Realize sua l\u00f3gica aqui antes do KeyListener original\n        if(this.keyListenersOriginais != null &amp;&amp; this.keyListenersOriginais.size() &gt; 0){\n            for(KeyListener listener in this.keyListenersOriginais){\n                listener.keyPressed(event)\n            }\n        }\n        //Realize sua l\u00f3gica aqui depois do KeyListener original\n    }\n}\n</code></pre>"},{"location":"exemplos/scripts/#desabilita-campo-livre","title":"Desabilita campo livre","text":"<pre><code>class DesabilitarCampoLivre extends sam.swing.ScriptBase{\n    def exibirRegistroPadrao;\n\n    public void execute(MultitecRootPanel tarefa) {\n        this.exibirRegistroPadrao = tarefa.exibirRegistro\n        tarefa.exibirRegistro = {exibir(tarefa)}\n    }\n\n    private void exibir(MultitecRootPanel tarefa){\n        this.exibirRegistroPadrao.accept(tarefa.registro)\n\n        def pnlCamposLivresJSON = getComponente(\"pnlCamposLivresJSON\");\n        def jsonPanels = pnlCamposLivresJSON.getJsonComponentPanels();\n\n        for (jsonPanel in jsonPanels) {\n            def nomeCampo = jsonPanel.getComponent().getName(); \n            if(nomeCampo == \"texto\") {\n                jsonPanel.getComponent().getComponent().setEnabled(false);\n            }\n        }\n    }\n}\n</code></pre>"},{"location":"exemplos/servlet/","title":"Exemplo Servlet","text":"<p>Faremos um Servlet para buscar uma entidade pelo c\u00f3digo recebido pelo corpo da requisi\u00e7\u00e3o.</p>"},{"location":"exemplos/servlet/#criando-um-servlet","title":"Criando um servlet","text":"<p>Para criar um servlet abra o SAMDev, escolha o package, clique com o <code>bot\u00e3o direito</code>-&gt;<code>Novo</code>-&gt;<code>Servlet</code></p> <p></p> <p>Criar\u00e1 uma classe padr\u00e3o</p> <pre><code>public class BuscarEntidade extends ServletBase {\n\n    @Override\n    public String getNome() throws Exception {\n        return null;\n    }\n\n    @Override\n    public DashboardMetadata getMetadata() throws Exception {\n        return null;\n    }\n\n    @Override\n    public ResponseEntity&lt;Object&gt; executar() {\n        return ResponseEntity.ok()\n            .contentType(MediaType.APPLICATION_JSON)\n            .body(null);\n    }\n}\n</code></pre> <ul> <li><code>getNome</code> : Retorna o nome do Servlet.</li> <li><code>getMetadata</code> : Retorna dados do Servlet.</li> <li><code>executar</code> : fun\u00e7\u00e3o onde ficar\u00e1 a l\u00f3gica do Servlet.</li> </ul>"},{"location":"exemplos/servlet/#buscando-a-entidade","title":"Buscando a entidade","text":"<p>Vamos alterar o m\u00e9todo executar para receber o c\u00f3digo, buscar a entidade e retornar a entidade pelo response da requisi\u00e7\u00e3o.</p> <pre><code>class BuscarEntidade extends ServletBase{\n    @Override\n    String getNome() throws Exception {\n        return \"Buscar Entidade\"\n    }\n\n    @Override\n    DashboardMetadata getMetadata() throws Exception {\n        return null\n    }\n\n    @Override\n    ResponseEntity&lt;Object&gt; executar() throws Exception {\n        String req = httpServletRequest.getReader().lines().collect(Collectors.joining());\n        TableMap body = JSonMapperCreator.create().read(req, new TypeReference&lt;TableMap&gt;() {});\n\n        String abe01codigo = body.getString(\"abe01codigo\");\n\n       Abe01 abe01 = getSession().createCriteria(Abe01.class)\n                .addFields(\"abe01id, abe01codigo, abe01na\")\n                .addWhere(Criterions.eq(\"abe01codigo\", abe01codigo))\n                .get(ColumnType.ENTITY)\n\n        return ResponseEntity.ok()\n                .contentType(MediaType.APPLICATION_JSON)\n                .body(abe01);\n    }\n}\n</code></pre> <ul> <li> <p><code>httpServletRequest.getReader().lines().collect(Collectors.joining());</code> : L\u00ea todo o conte\u00fado do corpo da requisi\u00e7\u00e3o HTTP (geralmente enviado via POST ou PUT) como uma \u00fanica String. </p> </li> <li> <p><code>TableMap body = JSonMapperCreator.create().read(req, new TypeReference&lt;TableMap&gt;() {});</code> : Faz o parse do JSON (contido na string req) para um objeto da classe TableMap.</p> </li> </ul>"},{"location":"exemplos/servlet/#acessando-o-servlet","title":"Acessando o Servlet","text":""},{"location":"exemplos/servlet/#acessando-via-insomnia","title":"Acessando via Insomnia","text":"<p>Realizando uma request para o servlet usando um programa externo como o Insomnia</p> Request e HeaderRetorno <p> </p> <p></p>"},{"location":"exemplos/servlet/#acessando-via-script-de-operacoes","title":"Acessando via Script de opera\u00e7\u00f5es","text":"ScriptRetorno <pre><code>public class ScriptAntigo extends ScriptBase {\n    MultitecRootPanel tarefa\n    @Override\n    void execute(MultitecRootPanel panel) {\n        tarefa = panel\n        criarMenu(\"Servlet\", \"Buscar Entidade\", e -&gt; buscarEntidade(), null)\n    }\n\n    private void buscarEntidade(){\n        String json = '{\"abe01codigo\": \"01\"}'\n        ObjectMapper mapper = new ObjectMapper();\n        JsonNode body = mapper.readTree(json);\n        WorkerRequest.create(this.tarefa.getWindow())\n        .initialText(\"Buscando Entidade\")\n        .dialogVisible(true)\n        .controllerEndPoint(\"servlet\")\n        .methodEndPoint(\"run\")\n        .param(\"name\", \"equilibrio.separador.BuscarEntidade\")\n        .header(\"ignore-body-decrypt\", \"true\")\n        .parseBody(body)\n        .success((response) -&gt; {\n            Abe01 abe01 = response.parseResponse(new TypeReference&lt;Abe01&gt;(){});\n            exibirInformacao(\"codigo: \" + abe01.abe01codigo + \", na: \" + abe01.abe01na)\n        })\n        .post();\n\n    }\n}\n</code></pre>"},{"location":"utils/DateUtils/","title":"DateUtils","text":"<p>Utilit\u00e1rio para manipula\u00e7\u00e3o e formata\u00e7\u00e3o de datas e horas em Java. Fornece m\u00e9todos para c\u00e1lculo de diferen\u00e7a entre datas, parsing, formata\u00e7\u00e3o e valida\u00e7\u00f5es.</p>"},{"location":"utils/DateUtils/#pacote","title":"Pacote","text":"<p><code>br.com.multitec.utils</code></p>"},{"location":"utils/DateUtils/#metodos","title":"M\u00e9todos","text":""},{"location":"utils/DateUtils/#calculo-de-diferenca","title":"C\u00e1lculo de Diferen\u00e7a","text":""},{"location":"utils/DateUtils/#long-datedifflocaltime-ini-localtime-fim-chronounit-unit","title":"<code>long dateDiff(LocalTime ini, LocalTime fim, ChronoUnit unit)</code>","text":"<p>Calcula a diferen\u00e7a entre dois hor\u00e1rios no mesmo dia.</p>"},{"location":"utils/DateUtils/#long-datedifflocaldate-ini-localdate-fim-chronounit-unit","title":"<code>long dateDiff(LocalDate ini, LocalDate fim, ChronoUnit unit)</code>","text":"<p>Calcula a diferen\u00e7a entre duas datas usando uma hora padr\u00e3o (01:00:00).</p>"},{"location":"utils/DateUtils/#long-datedifflocaldatetime-ini-localdatetime-fim-chronounit-unit","title":"<code>long dateDiff(LocalDateTime ini, LocalDateTime fim, ChronoUnit unit)</code>","text":"<p>Calcula a diferen\u00e7a entre dois <code>LocalDateTime</code>, considerando a precis\u00e3o do <code>ChronoUnit</code> fornecido.</p>"},{"location":"utils/DateUtils/#long-datediffworkminuteslocaldatetime-ini-localdatetime-fim","title":"<code>long dateDiffWorkMinutes(LocalDateTime ini, LocalDateTime fim)</code>","text":"<p>Retorna a diferen\u00e7a em minutos entre dois <code>LocalDateTime</code>, adicionando +1 minuto.</p>"},{"location":"utils/DateUtils/#long-datediffworkminuteslocaltime-ini-localtime-fim","title":"<code>long dateDiffWorkMinutes(LocalTime ini, LocalTime fim)</code>","text":"<p>Mesmo comportamento do m\u00e9todo anterior, por\u00e9m com <code>LocalTime</code>.</p>"},{"location":"utils/DateUtils/#obtencao-de-intervalos","title":"Obten\u00e7\u00e3o de Intervalos","text":""},{"location":"utils/DateUtils/#localdate-getstartandendmonthlocaldate-base","title":"<code>LocalDate[] getStartAndEndMonth(LocalDate base)</code>","text":"<p>Retorna o primeiro e o \u00faltimo dia do m\u00eas de uma data base.</p>"},{"location":"utils/DateUtils/#validacao-de-intervalo","title":"Valida\u00e7\u00e3o de Intervalo","text":""},{"location":"utils/DateUtils/#boolean-isdatewithinrangelocaldate-data-localdate-ini-localdate-fim","title":"<code>boolean isDateWithinRange(LocalDate data, LocalDate ini, LocalDate fim)</code>","text":"<p>Verifica se uma data est\u00e1 dentro de um intervalo (inclusive).</p>"},{"location":"utils/DateUtils/#parsing-de-datas","title":"Parsing de Datas","text":""},{"location":"utils/DateUtils/#localdate-parsedatestring-value","title":"<code>LocalDate parseDate(String value)</code>","text":"<p>Converte uma <code>String</code> no formato <code>dd/MM/yyyy</code> para <code>LocalDate</code>.</p>"},{"location":"utils/DateUtils/#localdate-parsedatestring-value-string-pattern","title":"<code>LocalDate parseDate(String value, String pattern)</code>","text":"<p>Converte uma <code>String</code> para <code>LocalDate</code> usando um padr\u00e3o espec\u00edfico.</p>"},{"location":"utils/DateUtils/#localdatetime-parsedatetimestring-value","title":"<code>LocalDateTime parseDateTime(String value)</code>","text":"<p>Converte uma <code>String</code> no formato <code>dd/MM/yyyy HH:mm</code> para <code>LocalDateTime</code>.</p>"},{"location":"utils/DateUtils/#localdatetime-parsedatetimestring-value-string-pattern","title":"<code>LocalDateTime parseDateTime(String value, String pattern)</code>","text":"<p>Converte uma <code>String</code> para <code>LocalDateTime</code> usando um padr\u00e3o espec\u00edfico.</p>"},{"location":"utils/DateUtils/#localtime-parsetimestring-value","title":"<code>LocalTime parseTime(String value)</code>","text":"<p>Converte uma <code>String</code> no formato <code>HH:mm</code> para <code>LocalTime</code>.</p>"},{"location":"utils/DateUtils/#localtime-parsetimestring-value-string-pattern","title":"<code>LocalTime parseTime(String value, String pattern)</code>","text":"<p>Converte uma <code>String</code> para <code>LocalTime</code> usando um padr\u00e3o espec\u00edfico.</p>"},{"location":"utils/DateUtils/#formatacao-de-datas","title":"Formata\u00e7\u00e3o de Datas","text":""},{"location":"utils/DateUtils/#string-formatdatelocaldate-value","title":"<code>String formatDate(LocalDate value)</code>","text":"<p>Formata uma data no padr\u00e3o <code>dd/MM/yyyy</code>.</p>"},{"location":"utils/DateUtils/#string-formatdatelocaldate-value-string-pattern","title":"<code>String formatDate(LocalDate value, String pattern)</code>","text":"<p>Formata uma data em um padr\u00e3o customizado.</p>"},{"location":"utils/DateUtils/#string-formatdatetimelocaldatetime-value","title":"<code>String formatDateTime(LocalDateTime value)</code>","text":"<p>Formata um <code>LocalDateTime</code> no padr\u00e3o <code>dd/MM/yyyy HH:mm</code>.</p>"},{"location":"utils/DateUtils/#string-formatdatetimelocaldatetime-value-string-pattern","title":"<code>String formatDateTime(LocalDateTime value, String pattern)</code>","text":"<p>Formata um <code>LocalDateTime</code> com padr\u00e3o customizado.</p>"},{"location":"utils/DateUtils/#string-formattimelocaltime-value","title":"<code>String formatTime(LocalTime value)</code>","text":"<p>Formata um <code>LocalTime</code> no padr\u00e3o <code>HH:mm</code>.</p>"},{"location":"utils/DateUtils/#string-formattimelocaltime-value-string-pattern","title":"<code>String formatTime(LocalTime value, String pattern)</code>","text":"<p>Formata um <code>LocalTime</code> com padr\u00e3o customizado.</p>"},{"location":"utils/DateUtils/#outros","title":"Outros","text":""},{"location":"utils/DateUtils/#integer-nummesesinteger-mes-integer-ano","title":"<code>Integer numMeses(Integer mes, Integer ano)</code>","text":"<p>Converte um par de ano e m\u00eas no total de meses desde o ano zero.</p>"},{"location":"utils/DateUtils/#long-datetimetoutclocaldatetime-time","title":"<code>long dateTimeToUTC(LocalDateTime time)</code>","text":"<p>Converte um <code>LocalDateTime</code> para timestamp em milissegundos UTC.</p>"},{"location":"utils/DateUtils/#exemplo-de-uso","title":"Exemplo de uso","text":"<pre><code>LocalDate inicio = LocalDate.of(2024, 1, 1);\nLocalDate fim = LocalDate.of(2024, 4, 1);\nlong dias = DateUtils.dateDiff(inicio, fim, ChronoUnit.DAYS);\nSystem.out.println(\"Diferen\u00e7a em dias: \" + dias);\n</code></pre>"},{"location":"utils/DecimalUtils/","title":"DecimalUtils","text":"<p>Utilit\u00e1rio para opera\u00e7\u00f5es com valores decimais (<code>BigDecimal</code>) com m\u00e9todos encade\u00e1veis, al\u00e9m de suporte para parsing, formata\u00e7\u00e3o, arredondamento, compara\u00e7\u00e3o e divis\u00e3o em parcelas.</p>"},{"location":"utils/DecimalUtils/#pacote","title":"Pacote","text":"<p><code>br.com.multitec.utils</code></p>"},{"location":"utils/DecimalUtils/#instanciacao","title":"Instancia\u00e7\u00e3o","text":""},{"location":"utils/DecimalUtils/#static-decimalutils-createobject-value","title":"<code>static DecimalUtils create(Object value)</code>","text":"<p>Cria uma nova inst\u00e2ncia de <code>DecimalUtils</code> a partir de um valor (<code>Number</code>, <code>String</code>, <code>BigDecimal</code>, etc). N\u00e3o aceita <code>Double</code>.</p>"},{"location":"utils/DecimalUtils/#operacoes-matematicas","title":"Opera\u00e7\u00f5es Matem\u00e1ticas","text":""},{"location":"utils/DecimalUtils/#decimalutils-sumobject-values","title":"<code>DecimalUtils sum(Object... values)</code>","text":"<p>Soma os valores fornecidos \u00e0 inst\u00e2ncia atual.</p>"},{"location":"utils/DecimalUtils/#decimalutils-subtractobject-values","title":"<code>DecimalUtils subtract(Object... values)</code>","text":"<p>Subtrai os valores fornecidos da inst\u00e2ncia atual.</p>"},{"location":"utils/DecimalUtils/#decimalutils-multiplyobject-values","title":"<code>DecimalUtils multiply(Object... values)</code>","text":"<p>Multiplica os valores fornecidos com o valor atual.</p>"},{"location":"utils/DecimalUtils/#decimalutils-divideobject-values","title":"<code>DecimalUtils divide(Object... values)</code>","text":"<p>Divide o valor atual pelos valores fornecidos utilizando a escala atual.</p>"},{"location":"utils/DecimalUtils/#decimalutils-roundint-casasdecimais","title":"<code>DecimalUtils round(int casasDecimais)</code>","text":"<p>Arredonda o valor para o n\u00famero de casas decimais usando <code>RoundingMode.HALF_EVEN</code>.</p>"},{"location":"utils/DecimalUtils/#decimalutils-truncint-casasdecimais","title":"<code>DecimalUtils trunc(int casasDecimais)</code>","text":"<p>Trunca o valor para o n\u00famero de casas decimais usando <code>RoundingMode.FLOOR</code>.</p>"},{"location":"utils/DecimalUtils/#decimalutils-negateifpositive","title":"<code>DecimalUtils negateIfPositive()</code>","text":"<p>Inverte o sinal do valor se ele for positivo.</p>"},{"location":"utils/DecimalUtils/#decimalutils-setscalemathcontext-scale","title":"<code>DecimalUtils setScale(MathContext scale)</code>","text":"<p>Define a escala e modo de arredondamento para futuras opera\u00e7\u00f5es.</p>"},{"location":"utils/DecimalUtils/#obtencao-de-resultado","title":"Obten\u00e7\u00e3o de Resultado","text":""},{"location":"utils/DecimalUtils/#bigdecimal-get","title":"<code>BigDecimal get()</code>","text":"<p>Retorna o valor atual como <code>BigDecimal</code>.</p>"},{"location":"utils/DecimalUtils/#parcelamento","title":"Parcelamento","text":""},{"location":"utils/DecimalUtils/#listbigdecimal-partint-numerodeparcelas","title":"<code>List&lt;BigDecimal&gt; part(int numeroDeParcelas)</code>","text":"<p>Divide o valor atual em parcelas iguais, corrigindo arredondamentos na \u00faltima.</p>"},{"location":"utils/DecimalUtils/#listbigdecimal-partint-numerodeparcelas-int-parctoaddrest","title":"<code>List&lt;BigDecimal&gt; part(int numeroDeParcelas, int parcToAddRest)</code>","text":"<p>Divide o valor e aplica o ajuste de arredondamento na parcela especificada por <code>parcToAddRest</code>.</p>"},{"location":"utils/DecimalUtils/#comparacao","title":"Compara\u00e7\u00e3o","text":""},{"location":"utils/DecimalUtils/#int-comparetoobject-value","title":"<code>int compareTo(Object value)</code>","text":"<p>Compara o valor atual com outro valor num\u00e9rico.</p>"},{"location":"utils/DecimalUtils/#maximo-e-minimo","title":"M\u00e1ximo e M\u00ednimo","text":""},{"location":"utils/DecimalUtils/#static-bigdecimal-maxbigdecimal-values","title":"<code>static BigDecimal max(BigDecimal... values)</code>","text":"<p>Retorna o maior valor da lista.</p>"},{"location":"utils/DecimalUtils/#static-bigdecimal-minbigdecimal-values","title":"<code>static BigDecimal min(BigDecimal... values)</code>","text":"<p>Retorna o menor valor da lista.</p>"},{"location":"utils/DecimalUtils/#parsing-e-formatacao","title":"Parsing e Formata\u00e7\u00e3o","text":""},{"location":"utils/DecimalUtils/#static-decimalutils-parsestring-value","title":"<code>static DecimalUtils parse(String value)</code>","text":"<p>Converte uma <code>String</code> formatada (ex: <code>\"1.234,56\"</code>) para <code>DecimalUtils</code>.</p>"},{"location":"utils/DecimalUtils/#string-format","title":"<code>String format()</code>","text":"<p>Formata o valor com 2 casas decimais (<code>min</code> e <code>max</code>) para o padr\u00e3o <code>pt-BR</code>.</p>"},{"location":"utils/DecimalUtils/#string-formatint-maxfractiondigits-int-minfractiondigits","title":"<code>String format(int maxFractionDigits, int minFractionDigits)</code>","text":"<p>Formata o valor com controle das casas decimais para o padr\u00e3o <code>pt-BR</code>.</p>"},{"location":"utils/DecimalUtils/#string-tostring","title":"<code>String toString()</code>","text":"<p>Sobrescreve <code>toString()</code> usando o m\u00e9todo <code>format()</code>.</p>"},{"location":"utils/DecimalUtils/#exemplo-de-uso","title":"Exemplo de uso","text":"<pre><code>DecimalUtils valor = DecimalUtils.create(\"1000\");\nList&lt;BigDecimal&gt; parcelas = valor.part(3, 2);\n\nSystem.out.println(\"Parcelas: \" + parcelas);\nSystem.out.println(\"Total formatado: \" + valor.format());\n</code></pre>"},{"location":"utils/ESocialUtils/","title":"ESocialUtils","text":"<p>Classe utilit\u00e1ria para manipula\u00e7\u00f5es espec\u00edficas de datas, horas, XML e formatos num\u00e9ricos utilizados no contexto do eSocial.</p>"},{"location":"utils/ESocialUtils/#pacote","title":"Pacote","text":"<p><code>sam.server.samdev.utils</code></p>"},{"location":"utils/ESocialUtils/#constantes","title":"Constantes","text":"<ul> <li><code>PATTERN_DDMMYYYY</code>: <code>\"ddMMyyyy\"</code></li> <li><code>PATTERN_YYYYMMDD</code>: <code>\"yyyyMMdd\"</code></li> <li><code>PATTERN_YYYY_MM_DD</code>: <code>\"yyyy-MM-dd\"</code></li> <li><code>PATTERN_MMYYYY</code>: <code>\"MMyyyy\"</code></li> <li><code>PATTERN_YYYY_MM</code>: <code>\"yyyy-MM\"</code></li> <li><code>PATTERN_YYYY</code>: <code>\"yyyy\"</code></li> <li><code>PATTERN_HHMMSS</code>: <code>\"HHmmss\"</code></li> <li><code>PATTERN_HHMM</code>: <code>\"HHmm\"</code></li> <li><code>VERSAO</code>: <code>\"v02_04_01\"</code></li> </ul>"},{"location":"utils/ESocialUtils/#geracao-de-id","title":"Gera\u00e7\u00e3o de ID","text":""},{"location":"utils/ESocialUtils/#static-string-comporiddoeventoint-ti-string-ni","title":"<code>static String comporIdDoEvento(int ti, String ni)</code>","text":"<p>Gera o ID de um evento eSocial com base no tipo de evento (<code>ti</code>), no n\u00famero identificador (<code>ni</code>), na data e hora atual, e um n\u00famero sequencial interno.</p>"},{"location":"utils/ESocialUtils/#formatacao-de-datas-e-horas","title":"Formata\u00e7\u00e3o de Datas e Horas","text":""},{"location":"utils/ESocialUtils/#static-string-formatardatalocaldate-value","title":"<code>static String formatarData(LocalDate value)</code>","text":"<p>Formata a data no padr\u00e3o <code>ddMMyyyy</code>.</p>"},{"location":"utils/ESocialUtils/#static-string-formatardatalocaldate-value-string-pattern","title":"<code>static String formatarData(LocalDate value, String pattern)</code>","text":"<p>Formata a data utilizando o padr\u00e3o fornecido.</p>"},{"location":"utils/ESocialUtils/#static-string-formatarhoralocaltime-value","title":"<code>static String formatarHora(LocalTime value)</code>","text":"<p>Formata a hora no padr\u00e3o <code>HHmm</code>.</p>"},{"location":"utils/ESocialUtils/#static-string-formatarhoralocaltime-value-string-pattern","title":"<code>static String formatarHora(LocalTime value, String pattern)</code>","text":"<p>Formata a hora com o padr\u00e3o personalizado.</p>"},{"location":"utils/ESocialUtils/#static-string-formatarhoralocaldate-value-string-pattern","title":"<code>static String formatarHora(LocalDate value, String pattern)</code>","text":"<p>Formata uma data como se fosse uma hora (uso espec\u00edfico com <code>LocalDate</code>, cuidado ao usar).</p>"},{"location":"utils/ESocialUtils/#xml","title":"XML","text":""},{"location":"utils/ESocialUtils/#static-string-gerarxmlelementxml-esocial","title":"<code>static String gerarXML(ElementXml eSocial)</code>","text":"<p>Converte um objeto <code>ElementXml</code> em uma <code>String</code> XML utilizando <code>Transformer</code>.</p>"},{"location":"utils/ESocialUtils/#static-elementxml-criarelementxmlesocialstring-namespace","title":"<code>static ElementXml criarElementXmlESocial(String namespace)</code>","text":"<p>Cria a tag raiz <code>eSocial</code> com o namespace fornecido, usando <code>XMLConverter</code>.</p>"},{"location":"utils/ESocialUtils/#formatacao-de-decimais","title":"Formata\u00e7\u00e3o de Decimais","text":""},{"location":"utils/ESocialUtils/#static-string-formatardecimalbigdecimal-value-int-casasdecimais-boolean-vlrzeroretornanull","title":"<code>static String formatarDecimal(BigDecimal value, int casasDecimais, boolean vlrZeroRetornaNull)</code>","text":"<p>Formata um <code>BigDecimal</code> com o n\u00famero especificado de casas decimais. Se <code>value</code> for zero e <code>vlrZeroRetornaNull</code> for <code>true</code>, retorna <code>null</code>.</p>"},{"location":"utils/ESocialUtils/#exemplo-de-uso","title":"Exemplo de uso","text":"<pre><code>String idEvento = ESocialUtils.comporIdDoEvento(1, \"12345678901\");\nString dataFormatada = ESocialUtils.formatarData(LocalDate.now());\nString hora = ESocialUtils.formatarHora(LocalTime.now());\n\nElementXml eSocial = ESocialUtils.criarElementXmlESocial(\"http://www.esocial.gov.br/schema\");\nString xml = ESocialUtils.gerarXML(eSocial);\n\nBigDecimal valor = new BigDecimal(\"123.456\");\nString valorFormatado = ESocialUtils.formatarDecimal(valor, 2, false);\n</code></pre>"},{"location":"utils/HoleriteUtils/","title":"HoleriteUtils","text":"<p>Classe utilit\u00e1ria voltada para consultas relacionadas a c\u00e1lculos de holerites, eventos, f\u00e9rias, rescis\u00f5es, e informa\u00e7\u00f5es financeiras de trabalhadores em sistemas baseados no SAM.</p>"},{"location":"utils/HoleriteUtils/#pacote","title":"Pacote","text":"<p><code>sam.server.samdev.utils</code></p>"},{"location":"utils/HoleriteUtils/#construtor","title":"Construtor","text":""},{"location":"utils/HoleriteUtils/#holeriteutilssession-session-samwhere-samwhere","title":"<code>HoleriteUtils(Session session, SAMWhere samWhere)</code>","text":"<p>Inicializa a classe com uma sess\u00e3o ativa do MultiORM e as regras padr\u00e3o de filtragem do sistema (<code>SAMWhere</code>).</p>"},{"location":"utils/HoleriteUtils/#consultas-de-entidades","title":"Consultas de Entidades","text":""},{"location":"utils/HoleriteUtils/#abh80-findabh80byuniquekeystring-abh80codigo","title":"<code>Abh80 findAbh80ByUniqueKey(String abh80codigo)</code>","text":"<p>Busca um trabalhador (<code>Abh80</code>) pelo c\u00f3digo, com joins de cargo e departamento.</p>"},{"location":"utils/HoleriteUtils/#abh21-findabh21byuniquekeystring-abh21codigo","title":"<code>Abh21 findAbh21ByUniqueKey(String abh21codigo)</code>","text":"<p>Busca um evento de folha (<code>Abh21</code>) pelo c\u00f3digo.</p>"},{"location":"utils/HoleriteUtils/#consultas-de-eventos-fba01011","title":"Consultas de Eventos FBA01011","text":""},{"location":"utils/HoleriteUtils/#listtablemap-finddadosfba01011scaebyremessaholeritetxt","title":"<code>List&lt;TableMap&gt; findDadosFba01011sCAEByRemessaHoleriteTxt(...)</code>","text":"<p>Retorna dados de eventos de CAE para um trabalhador em um per\u00edodo espec\u00edfico, para uso em gera\u00e7\u00e3o de arquivo texto de holerite.</p>"},{"location":"utils/HoleriteUtils/#listtablemap-finddadosfba01011scaebyremessaholerite","title":"<code>List&lt;TableMap&gt; findDadosFba01011sCAEByRemessaHolerite(...)</code>","text":"<p>Mesmo que o anterior, sem foco no TXT.</p>"},{"location":"utils/HoleriteUtils/#listtablemap-finddadosfba01011sbyexportarholeriteparatxt","title":"<code>List&lt;TableMap&gt; findDadosFba01011sByExportarHoleriteParaTxt(...)</code>","text":"<p>Consulta eventos agrupados para exporta\u00e7\u00e3o de holerite, ignorando eventos espec\u00edficos se necess\u00e1rio.</p>"},{"location":"utils/HoleriteUtils/#listtablemap-finddadosfba01011sbyremessaholerite","title":"<code>List&lt;TableMap&gt; findDadosFba01011sByRemessaHolerite(...)</code>","text":"<p>Vers\u00e3o alternativa para exporta\u00e7\u00e3o de dados sem o filtro para eventos de f\u00e9rias.</p>"},{"location":"utils/HoleriteUtils/#dependentes","title":"Dependentes","text":""},{"location":"utils/HoleriteUtils/#integer-findabh8002qtdedependentesirlong-idabh80","title":"<code>Integer findAbh8002QtdeDependentesIR(Long idAbh80)</code>","text":"<p>Retorna a quantidade de dependentes considerados para IR.</p>"},{"location":"utils/HoleriteUtils/#integer-findabh8002qtdedependentessflong-idabh80","title":"<code>Integer findAbh8002QtdeDependentesSF(Long idAbh80)</code>","text":"<p>Retorna dependentes considerados para sal\u00e1rio-fam\u00edlia.</p>"},{"location":"utils/HoleriteUtils/#integer-findabh8002qtdedependenteslong-idabh80","title":"<code>Integer findAbh8002QtdeDependentes(Long idAbh80)</code>","text":"<p>Retorna a quantidade total de dependentes.</p>"},{"location":"utils/HoleriteUtils/#consultas-e-calculos-diversos","title":"Consultas e C\u00e1lculos Diversos","text":""},{"location":"utils/HoleriteUtils/#fbc0101-findfbc0101ultimocalculobyidtrabalhadorandtipoferiaslong-idabh80","title":"<code>Fbc0101 findFbc0101UltimoCalculoByIdTrabalhadorAndTipoFerias(Long idAbh80)</code>","text":"<p>Busca o \u00faltimo c\u00e1lculo de f\u00e9rias de um trabalhador.</p>"},{"location":"utils/HoleriteUtils/#bigdecimal-findfba01011refbytrabandeventoanddata","title":"<code>BigDecimal findFba01011RefByTrabAndEventoAndData(...)</code>","text":"<p>Soma os dias de refer\u00eancia de um evento para um trabalhador em um per\u00edodo.</p>"},{"location":"utils/HoleriteUtils/#listtablemap-calcularferiasrescisaopagas","title":"<code>List&lt;TableMap&gt; calcularFeriasRescisaoPagas(...)</code>","text":"<p>Calcula eventos que devem compensar (zerar) valores l\u00edquidos de f\u00e9rias e rescis\u00f5es, como abonos e adiantamentos.</p>"},{"location":"utils/HoleriteUtils/#bigdecimal-findfba01011valoreventoparazerarferiasandrescisaotxt","title":"<code>BigDecimal findFba01011ValorEventoParaZerarFeriasAndRescisaoTxt(...)</code>","text":"<p>Soma os valores de um evento para zerar f\u00e9rias/rescis\u00e3o em exporta\u00e7\u00f5es para texto.</p>"},{"location":"utils/HoleriteUtils/#tablemap-findfba01011valoreventoparazerarferiasandrescisaoholerite","title":"<code>TableMap findFba01011ValorEventoParaZerarFeriasAndRescisaoHolerite(...)</code>","text":"<p>Similar ao anterior, mas retorna tamb\u00e9m os dias de refer\u00eancia como <code>TableMap</code>.</p>"},{"location":"utils/HoleriteUtils/#bigdecimal-calcularcae","title":"<code>BigDecimal calcularCAE(...)</code>","text":"<p>Soma e subtrai valores de eventos de CAE, considerando seu fator de compensa\u00e7\u00e3o (<code>abh2101cvr</code>).</p>"},{"location":"utils/HoleriteUtils/#exemplo-de-uso","title":"Exemplo de uso","text":"<pre><code>HoleriteUtils util = getHoleriteUtils();\n\nAbh80 trabalhador = util.findAbh80ByUniqueKey(\"000123\");\nInteger qtdeDependentes = util.findAbh8002QtdeDependentes(trabalhador.getId());\nBigDecimal refDias = util.findFba01011RefByTrabAndEventoAndData(trabalhador.getId(), \"0021\", LocalDate.now().minusMonths(1), LocalDate.now());\n</code></pre>"},{"location":"utils/InterceptadorUtils/","title":"InterceptadorUtils","text":"<p>Classe utilit\u00e1ria com m\u00e9todos auxiliares para acesso \u00e0s vari\u00e1veis de sess\u00e3o, entidades padr\u00e3o, constru\u00e7\u00e3o de cl\u00e1usulas WHERE e integra\u00e7\u00e3o com o banco de dados no contexto do SAM.</p>"},{"location":"utils/InterceptadorUtils/#pacote","title":"Pacote","text":"<p><code>sam.server.samdev.utils</code></p>"},{"location":"utils/InterceptadorUtils/#instancia-singleton","title":"Inst\u00e2ncia Singleton","text":""},{"location":"utils/InterceptadorUtils/#static-interceptadorutils-instance","title":"<code>static InterceptadorUtils INSTANCE</code>","text":"<p>Inst\u00e2ncia p\u00fablica \u00fanica da classe.</p>"},{"location":"utils/InterceptadorUtils/#sessao-sam","title":"Sess\u00e3o SAM","text":""},{"location":"utils/InterceptadorUtils/#samwhere-getsamwhere","title":"<code>SAMWhere getSamWhere()</code>","text":"<p>Retorna uma nova inst\u00e2ncia de <code>SAMWhere</code> com base nas vari\u00e1veis da sess\u00e3o atual.</p>"},{"location":"utils/InterceptadorUtils/#variaveis-getvariaveis","title":"<code>Variaveis getVariaveis()</code>","text":"<p>Retorna a inst\u00e2ncia atual de <code>Variaveis</code>, contendo contexto da sess\u00e3o (usu\u00e1rio, empresa, etc).</p>"},{"location":"utils/InterceptadorUtils/#entidades","title":"Entidades","text":""},{"location":"utils/InterceptadorUtils/#aac01-obtergclong-aac01id-session-s","title":"<code>Aac01 obterGC(Long aac01id, Session s)</code>","text":"<p>Obt\u00e9m a entidade <code>Aac01</code> (provavelmente grupo de c\u00e1lculo ou similar) pelo seu ID usando uma sess\u00e3o ORM.</p>"},{"location":"utils/InterceptadorUtils/#aab10-obterusuariologado","title":"<code>Aab10 obterUsuarioLogado()</code>","text":"<p>Retorna o usu\u00e1rio logado atual (<code>Aab10</code>), obtido a partir das vari\u00e1veis de sess\u00e3o.</p>"},{"location":"utils/InterceptadorUtils/#aac10-obterempresaativa","title":"<code>Aac10 obterEmpresaAtiva()</code>","text":"<p>Retorna a empresa ativa (<code>Aac10</code>) associada \u00e0 sess\u00e3o atual.</p>"},{"location":"utils/InterceptadorUtils/#where-padrao","title":"Where Padr\u00e3o","text":""},{"location":"utils/InterceptadorUtils/#string-obterwherepadraostring-classe","title":"<code>String obterWherePadrao(String classe)</code>","text":"<p>Gera a cl\u00e1usula WHERE padr\u00e3o para uma entidade pelo nome da classe, utilizando <code>AND</code> por padr\u00e3o.</p>"},{"location":"utils/InterceptadorUtils/#string-obterwherepadraostring-classe-string-whereandor","title":"<code>String obterWherePadrao(String classe, String whereAndOr)</code>","text":"<p>Permite definir o operador l\u00f3gico (<code>AND</code> ou <code>OR</code>) para construir a cl\u00e1usula WHERE padr\u00e3o com base na classe informada.</p>"},{"location":"utils/InterceptadorUtils/#banco-de-dados","title":"Banco de Dados","text":""},{"location":"utils/InterceptadorUtils/#bancodadosutils-getacessoaobancosession-s","title":"<code>BancoDadosUtils getAcessoAoBanco(Session s)</code>","text":"<p>Instancia a classe <code>BancoDadosUtils</code> para acesso ao banco, j\u00e1 configurada com a sess\u00e3o atual e <code>SAMWhere</code>.</p>"},{"location":"utils/InterceptadorUtils/#parametro-criarparametrosqlstring-chave-object-valor","title":"<code>Parametro criarParametroSql(String chave, Object valor)</code>","text":"<p>Cria uma inst\u00e2ncia de <code>Parametro</code> para uso em queries parametrizadas.</p>"},{"location":"utils/InterceptadorUtils/#controle-de-fluxo","title":"Controle de Fluxo","text":""},{"location":"utils/InterceptadorUtils/#void-interromperstring-mensagem","title":"<code>void interromper(String mensagem)</code>","text":"<p>Lan\u00e7a uma <code>ValidacaoException</code> com a mensagem informada. Usado para parar fluxos com valida\u00e7\u00e3o expl\u00edcita.</p>"},{"location":"utils/InterceptadorUtils/#exemplo-de-uso","title":"Exemplo de uso","text":"<pre><code>InterceptadorUtils utils = InterceptadorUtils.INSTANCE;\n\nString wherePadrao = utils.obterWherePadrao(\"sam.model.entities.fb.Fba01\");\nBancoDadosUtils banco = utils.getAcessoAoBanco(session);\n\nif (!usuarioValido) {\n    utils.interromper(\"Usu\u00e1rio n\u00e3o autorizado.\");\n}\n</code></pre>"},{"location":"utils/MDFeUtils/","title":"MDFeUtils","text":"<p>Classe utilit\u00e1ria com m\u00e9todos para gera\u00e7\u00e3o de chave de acesso MDF-e, formata\u00e7\u00e3o de datas e horas no padr\u00e3o UTC, cria\u00e7\u00e3o de XML e formata\u00e7\u00e3o de valores utilizados no contexto de documentos fiscais eletr\u00f4nicos.</p>"},{"location":"utils/MDFeUtils/#pacote","title":"Pacote","text":"<p><code>sam.server.samdev.utils</code></p>"},{"location":"utils/MDFeUtils/#constantes","title":"Constantes","text":"<ul> <li><code>DateTimeFormatter yyMM</code>: Formato <code>yyMM</code> (ano e m\u00eas).</li> <li><code>DateTimeFormatter UTC</code>: Formato ISO <code>yyyy-MM-dd'T'HH:mm:ss</code>.</li> </ul>"},{"location":"utils/MDFeUtils/#geracao-de-chave-de-acesso","title":"Gera\u00e7\u00e3o de Chave de Acesso","text":""},{"location":"utils/MDFeUtils/#static-string-gerarchavedeacessostring-codigoibge-localdate-emissao-string-serie-integer-numero-long-eaa10id-string-aac10ni-string-modelo-int-formaemissao","title":"<code>static String gerarChaveDeAcesso(String codigoIbge, LocalDate emissao, String serie, Integer numero, Long eaa10id, String aac10ni, String modelo, int formaEmissao)</code>","text":"<p>Gera uma chave de acesso para MDF-e (modelo 58) a partir das informa\u00e7\u00f5es do emitente, modelo, n\u00famero, s\u00e9rie e forma de emiss\u00e3o. A chave possui 44 d\u00edgitos com c\u00e1lculo de d\u00edgito verificador.</p>"},{"location":"utils/MDFeUtils/#xml","title":"XML","text":""},{"location":"utils/MDFeUtils/#static-elementxml-criarelementxmlnfestring-namespace","title":"<code>static ElementXml criarElementXmlNFe(String namespace)</code>","text":"<p>Cria o elemento raiz do XML com o nome padr\u00e3o <code>\"MDFe\"</code>.</p>"},{"location":"utils/MDFeUtils/#static-elementxml-criarelementxmlnfestring-namespace-string-name","title":"<code>static ElementXml criarElementXmlNFe(String namespace, String name)</code>","text":"<p>Permite definir o nome da raiz ao criar o elemento XML.</p>"},{"location":"utils/MDFeUtils/#static-string-gerarxmlelementxml-nfe","title":"<code>static String gerarXML(ElementXml nfe)</code>","text":"<p>Converte o <code>ElementXml</code> para <code>String</code> no formato XML, com codifica\u00e7\u00e3o UTF-8.</p>"},{"location":"utils/MDFeUtils/#datas-no-formato-utc","title":"Datas no Formato UTC","text":""},{"location":"utils/MDFeUtils/#static-string-dataformatoutclocaldatetime-data","title":"<code>static String dataFormatoUTC(LocalDateTime data)</code>","text":"<p>Converte um <code>LocalDateTime</code> para o formato UTC ISO 8601 com offset fixo <code>-03:00</code>.</p>"},{"location":"utils/MDFeUtils/#static-string-dataformatoutclocaldate-data-localtime-hora","title":"<code>static String dataFormatoUTC(LocalDate data, LocalTime hora)</code>","text":"<p>Converte uma data e hora para o formato UTC. Se <code>hora</code> for <code>null</code>, usa o hor\u00e1rio atual (<code>MDate.time()</code>).</p>"},{"location":"utils/MDFeUtils/#formatacao-de-valores","title":"Formata\u00e7\u00e3o de Valores","text":""},{"location":"utils/MDFeUtils/#static-string-formatardecimalbigdecimal-value-int-casasdecimais-boolean-vlrzeroretornanull","title":"<code>static String formatarDecimal(BigDecimal value, int casasDecimais, boolean vlrZeroRetornaNull)</code>","text":"<p>Formata um valor decimal com o n\u00famero de casas decimais especificado. Retorna <code>\"0\"</code> ou <code>null</code> se o valor for zero, dependendo do par\u00e2metro <code>vlrZeroRetornaNull</code>.</p>"},{"location":"utils/MDFeUtils/#inscricao-estadual","title":"Inscri\u00e7\u00e3o Estadual","text":""},{"location":"utils/MDFeUtils/#static-string-formatariestring-ie","title":"<code>static String formatarIE(String ie)</code>","text":"<p>Formata a inscri\u00e7\u00e3o estadual. Se o valor for <code>\"ISENTO\"</code> ou <code>\"ISENTA\"</code>, retorna <code>\"ISENTO\"</code>. Caso contr\u00e1rio, retorna apenas os n\u00fameros da string. Se for <code>null</code>, assume <code>\"ISENTO\"</code>.</p>"},{"location":"utils/MDFeUtils/#exemplo-de-uso","title":"Exemplo de uso","text":"<pre><code>String chave = MDFeUtils.gerarChaveDeAcesso(\"35\", LocalDate.now(), \"1\", 123456, 456789L, \"12345678000195\", \"58\", 1);\nString xml = MDFeUtils.gerarXML(MDFeUtils.criarElementXmlNFe(\"http://www.portalfiscal.inf.br/mdfe\"));\nString dataUTC = MDFeUtils.dataFormatoUTC(LocalDateTime.now());\nString valorFormatado = MDFeUtils.formatarDecimal(new BigDecimal(\"154.457\"), 2, false);\n</code></pre>"},{"location":"utils/NFeUtils/","title":"NFeUtils","text":"<p>Classe utilit\u00e1ria para gera\u00e7\u00e3o de chave de acesso da NFe, formata\u00e7\u00e3o de datas e valores, cria\u00e7\u00e3o de elementos XML e manipula\u00e7\u00e3o de informa\u00e7\u00f5es espec\u00edficas do contexto fiscal eletr\u00f4nico.</p>"},{"location":"utils/NFeUtils/#pacote","title":"Pacote","text":"<p><code>sam.server.samdev.utils</code></p>"},{"location":"utils/NFeUtils/#padroes-de-formatacao","title":"Padr\u00f5es de Formata\u00e7\u00e3o","text":"<ul> <li><code>PATTERN_DDMMYYYY</code>: <code>\"ddMMyyyy\"</code></li> <li><code>PATTERN_YYYYMMDD</code>: <code>\"yyyyMMdd\"</code></li> <li><code>PATTERN_YYYY_MM_DD</code>: <code>\"yyyy-MM-dd\"</code></li> <li><code>PATTERN_MMYYYY</code>: <code>\"MMyyyy\"</code></li> <li><code>PATTERN_YYYY_MM</code>: <code>\"yyyy-MM\"</code></li> <li><code>PATTERN_YYYY</code>: <code>\"yyyy\"</code></li> <li><code>PATTERN_UTC</code>: <code>\"yyyy-MM-dd'T'HH:mm:ss\"</code></li> <li><code>PATTERN_PT_BR</code>: <code>\"dd/MM/yyyy HH:mm:ss\"</code></li> <li><code>PATTERN_HHMMSS</code>: <code>\"HHmmss\"</code></li> <li><code>PATTERN_HHMM</code>: <code>\"HHmm\"</code></li> </ul>"},{"location":"utils/NFeUtils/#datas-e-horas","title":"Datas e Horas","text":""},{"location":"utils/NFeUtils/#string-formatardatalocaldate-value","title":"<code>String formatarData(LocalDate value)</code>","text":"<p>Formata a data no padr\u00e3o <code>\"yyyyMMdd\"</code>.</p>"},{"location":"utils/NFeUtils/#string-formatardatalocaldate-value-string-pattern","title":"<code>String formatarData(LocalDate value, String pattern)</code>","text":"<p>Formata a data com padr\u00e3o customizado.</p>"},{"location":"utils/NFeUtils/#string-formatarhoralocaltime-value","title":"<code>String formatarHora(LocalTime value)</code>","text":"<p>Formata a hora no padr\u00e3o <code>\"HHmm\"</code>.</p>"},{"location":"utils/NFeUtils/#string-formatarhoralocaltime-value-string-pattern","title":"<code>String formatarHora(LocalTime value, String pattern)</code>","text":"<p>Formata a hora com padr\u00e3o customizado.</p>"},{"location":"utils/NFeUtils/#string-formatardatahoralocaldatetime-value-string-pattern","title":"<code>String formatarDataHora(LocalDateTime value, String pattern)</code>","text":"<p>Formata um <code>LocalDateTime</code> com o padr\u00e3o especificado.</p>"},{"location":"utils/NFeUtils/#string-dataformatoutclocaldatetime-data-integer-fusohorario","title":"<code>String dataFormatoUTC(LocalDateTime data, Integer fusoHorario)</code>","text":"<p>Formata a data e hora no padr\u00e3o UTC, com fuso configur\u00e1vel (<code>-02:00</code>, <code>-03:00</code>, <code>-04:00</code>, <code>-05:00</code>).</p>"},{"location":"utils/NFeUtils/#string-dataformatoutclocaldate-data-localtime-hora-integer-fusohorario","title":"<code>String dataFormatoUTC(LocalDate data, LocalTime hora, Integer fusoHorario)</code>","text":"<p>Mesma formata\u00e7\u00e3o UTC acima, com <code>LocalDate</code> e <code>LocalTime</code>.</p>"},{"location":"utils/NFeUtils/#xml","title":"XML","text":""},{"location":"utils/NFeUtils/#elementxml-criarelementxmlnfestring-namespace","title":"<code>ElementXml criarElementXmlNFe(String namespace)</code>","text":"<p>Cria um elemento XML com nome <code>\"NFe\"</code>.</p>"},{"location":"utils/NFeUtils/#elementxml-criarelementxmlnfestring-namespace-string-name","title":"<code>ElementXml criarElementXmlNFe(String namespace, String name)</code>","text":"<p>Cria um elemento XML com nome customizado.</p>"},{"location":"utils/NFeUtils/#string-gerarxmlelementxml-nfe","title":"<code>String gerarXML(ElementXml nfe)</code>","text":"<p>Converte o <code>ElementXml</code> para <code>String</code> formatada em XML.</p>"},{"location":"utils/NFeUtils/#decimal","title":"Decimal","text":""},{"location":"utils/NFeUtils/#string-formatardecimalbigdecimal-value-int-casasdecimais-boolean-vlrzeroretornanull","title":"<code>String formatarDecimal(BigDecimal value, int casasDecimais, boolean vlrZeroRetornaNull)</code>","text":"<p>Formata um valor decimal para <code>String</code>, com op\u00e7\u00e3o de retornar <code>\"0\"</code> ou <code>null</code> quando for zero.</p>"},{"location":"utils/NFeUtils/#inscricao-estadual","title":"Inscri\u00e7\u00e3o Estadual","text":""},{"location":"utils/NFeUtils/#string-formatariestring-ie","title":"<code>String formatarIE(String ie)</code>","text":"<p>Retorna <code>\"ISENTO\"</code> para inscri\u00e7\u00f5es isentas. Caso contr\u00e1rio, retorna apenas os n\u00fameros da string.</p>"},{"location":"utils/NFeUtils/#codigo-numerico","title":"C\u00f3digo Num\u00e9rico","text":""},{"location":"utils/NFeUtils/#long-gerarcodigonumericointeger-abb01num-long-eaa01id","title":"<code>Long gerarCodigoNumerico(Integer abb01num, Long eaa01id)</code>","text":"<p>Gera um c\u00f3digo num\u00e9rico para composi\u00e7\u00e3o de chave de acesso, evitando padr\u00f5es inv\u00e1lidos ou repetidos.</p>"},{"location":"utils/NFeUtils/#chave-de-acesso-nfe","title":"Chave de Acesso NFe","text":""},{"location":"utils/NFeUtils/#string-gerarchavedeacessoeaa01-eaa01-aac10-empresa-integer-formaemissao-long-cnf","title":"<code>String gerarChaveDeAcesso(Eaa01 eaa01, Aac10 empresa, Integer formaEmissao, Long cNF)</code>","text":"<p>Gera a chave de acesso da NFe (modelo 55), com 44 d\u00edgitos, usando os dados do emitente, modelo, n\u00famero, forma de emiss\u00e3o e c\u00f3digo num\u00e9rico (<code>cNF</code>).</p>"},{"location":"utils/NFeUtils/#serie-da-nota","title":"S\u00e9rie da Nota","text":""},{"location":"utils/NFeUtils/#string-tratarseriestring-numserie","title":"<code>String tratarSerie(String numSerie)</code>","text":"<p>Trata a s\u00e9rie da nota fiscal, garantindo que tenha no m\u00e1ximo 3 d\u00edgitos num\u00e9ricos. Retorna <code>\"000\"</code> se inv\u00e1lida.</p>"},{"location":"utils/NFeUtils/#telefone","title":"Telefone","text":""},{"location":"utils/NFeUtils/#string-ajustarfonestring-ddd-string-fone","title":"<code>String ajustarFone(String ddd, String fone)</code>","text":"<p>Concatena DDD e n\u00famero, remove caracteres n\u00e3o num\u00e9ricos, e retorna telefone limpo ou <code>null</code>.</p>"},{"location":"utils/NFeUtils/#exemplo-de-uso","title":"Exemplo de uso","text":"<pre><code>String data = NFeUtils.dataFormatoUTC(LocalDateTime.now(), 0);\nString chave = NFeUtils.gerarChaveDeAcesso(eaa01, empresa, 1, 12345678L);\nString telefone = NFeUtils.ajustarFone(\"11\", \"91234-5678\");\n</code></pre>"},{"location":"utils/ReinfUtils/","title":"ReinfUtils","text":"<p>Classe utilit\u00e1ria para gera\u00e7\u00e3o de identificadores e XMLs do Reinf, al\u00e9m de m\u00e9todos auxiliares para formata\u00e7\u00e3o de datas, horas e valores decimais conforme exig\u00eancias legais.</p>"},{"location":"utils/ReinfUtils/#pacote","title":"Pacote","text":"<p><code>sam.server.samdev.utils</code></p>"},{"location":"utils/ReinfUtils/#padroes-de-formatacao","title":"Padr\u00f5es de Formata\u00e7\u00e3o","text":"<ul> <li><code>PATTERN_DDMMYYYY</code>: <code>\"ddMMyyyy\"</code></li> <li><code>PATTERN_YYYYMMDD</code>: <code>\"yyyyMMdd\"</code></li> <li><code>PATTERN_YYYY_MM_DD</code>: <code>\"yyyy-MM-dd\"</code></li> <li><code>PATTERN_MMYYYY</code>: <code>\"MMyyyy\"</code></li> <li><code>PATTERN_YYYY_MM</code>: <code>\"yyyy-MM\"</code></li> <li><code>PATTERN_YYYY</code>: <code>\"yyyy\"</code></li> <li><code>PATTERN_HHMMSS</code>: <code>\"HHmmss\"</code></li> <li><code>PATTERN_HHMM</code>: <code>\"HHmm\"</code></li> </ul>"},{"location":"utils/ReinfUtils/#geracao-de-identificador-reinf","title":"Gera\u00e7\u00e3o de Identificador Reinf","text":""},{"location":"utils/ReinfUtils/#static-string-geraridint-ti-string-ni","title":"<code>static String gerarID(int ti, String ni)</code>","text":"<p>Gera o ID de um evento Reinf com base em tipo, n\u00famero identificador, data, hora atual e n\u00famero sequencial interno.</p>"},{"location":"utils/ReinfUtils/#criacao-de-xml","title":"Cria\u00e7\u00e3o de XML","text":""},{"location":"utils/ReinfUtils/#static-elementxml-configurarxmlstring-namespace","title":"<code>static ElementXml configurarXML(String nameSpace)</code>","text":"<p>Cria a tag raiz do XML com o nome <code>\"Reinf\"</code> e o namespace especificado.</p>"},{"location":"utils/ReinfUtils/#static-string-gerarxmlelementxml-reinf","title":"<code>static String gerarXML(ElementXml reinf)</code>","text":"<p>Converte um <code>ElementXml</code> em <code>String</code> XML com codifica\u00e7\u00e3o UTF-8.</p>"},{"location":"utils/ReinfUtils/#datas-e-horas","title":"Datas e Horas","text":""},{"location":"utils/ReinfUtils/#string-formatardatalocaldate-value","title":"<code>String formatarData(LocalDate value)</code>","text":"<p>Formata data no padr\u00e3o <code>\"ddMMyyyy\"</code>.</p>"},{"location":"utils/ReinfUtils/#string-formatardatalocaldate-value-string-pattern","title":"<code>String formatarData(LocalDate value, String pattern)</code>","text":"<p>Formata uma <code>LocalDate</code> usando padr\u00e3o customizado.</p>"},{"location":"utils/ReinfUtils/#string-formatarhoralocaltime-value","title":"<code>String formatarHora(LocalTime value)</code>","text":"<p>Formata uma <code>LocalTime</code> no padr\u00e3o <code>\"HHmm\"</code>.</p>"},{"location":"utils/ReinfUtils/#string-formatarhoralocaltime-value-string-pattern","title":"<code>String formatarHora(LocalTime value, String pattern)</code>","text":"<p>Formata uma <code>LocalTime</code> com padr\u00e3o customizado.</p>"},{"location":"utils/ReinfUtils/#string-formatarhoralocaldate-value-string-pattern","title":"<code>String formatarHora(LocalDate value, String pattern)</code>","text":"<p>Formata uma <code>LocalDate</code> como hora. (Uso espec\u00edfico, aten\u00e7\u00e3o ao contexto).</p>"},{"location":"utils/ReinfUtils/#verificacao-de-inclusao","title":"Verifica\u00e7\u00e3o de Inclus\u00e3o","text":""},{"location":"utils/ReinfUtils/#boolean-isinclusaolocaldate-datacadastro-localdate-periodo","title":"<code>boolean isInclusao(LocalDate dataCadastro, LocalDate periodo)</code>","text":"<p>Verifica se a opera\u00e7\u00e3o corresponde a uma inclus\u00e3o com base no m\u00eas/ano da data de cadastro e do per\u00edodo informado.</p>"},{"location":"utils/ReinfUtils/#formatacao-de-decimais","title":"Formata\u00e7\u00e3o de Decimais","text":""},{"location":"utils/ReinfUtils/#string-formatardecimalbigdecimal-value-int-casasdecimais-boolean-vlrzeroretornanull","title":"<code>String formatarDecimal(BigDecimal value, int casasDecimais, boolean vlrZeroRetornaNull)</code>","text":"<p>Formata valores <code>BigDecimal</code> no padr\u00e3o brasileiro com v\u00edrgula como separador decimal. Pode retornar <code>\"0,00\"</code> ou <code>null</code> se o valor for zero.</p>"},{"location":"utils/ReinfUtils/#exemplo-de-uso","title":"Exemplo de uso","text":"<pre><code>String idEvento = ReinfUtils.gerarID(1, \"12345678901\");\nString dataFormatada = ReinfUtils.formatarData(LocalDate.now());\nString valorFormatado = ReinfUtils.formatarDecimal(new BigDecimal(\"100.256\"), 2, false);\nElementXml xml = ReinfUtils.configurarXML(\"http://www.reinf.gov.br/schema\");\nString conteudoXml = ReinfUtils.gerarXML(xml);\n</code></pre>"},{"location":"utils/SCEUtils/","title":"SCEUtils","text":"<p>Classe utilit\u00e1ria para acesso a saldos de estoque (resumido, sint\u00e9tico e anal\u00edtico), lan\u00e7amentos e c\u00e1lculos de pre\u00e7o m\u00e9dio de itens no m\u00f3dulo SCE (Sistema de Controle de Estoque).</p>"},{"location":"utils/SCEUtils/#pacote","title":"Pacote","text":"<p><code>sam.server.samdev.utils</code></p>"},{"location":"utils/SCEUtils/#construtores","title":"Construtores","text":""},{"location":"utils/SCEUtils/#sceutilssession-session-samwhere-samwhere-sceservice-sceservice","title":"<code>SCEUtils(Session session, SAMWhere samWhere, SCEService sceService)</code>","text":"<p>Inicializa com sess\u00e3o, regras padr\u00e3o de filtro e servi\u00e7o SCE.</p>"},{"location":"utils/SCEUtils/#sceutilssession-session-samwhere-samwhere","title":"<code>SCEUtils(Session session, SAMWhere samWhere)</code>","text":"<p>Inicializa apenas com sess\u00e3o e regras padr\u00e3o (sem servi\u00e7o).</p>"},{"location":"utils/SCEUtils/#sceutilssceservice-sceservice","title":"<code>SCEUtils(SCEService sceService)</code>","text":"<p>Inicializa apenas com o servi\u00e7o SCE.</p>"},{"location":"utils/SCEUtils/#saldo-de-estoque-resumido","title":"Saldo de Estoque - Resumido","text":""},{"location":"utils/SCEUtils/#bigdecimal-saldoestoqueitemresumidolong-abm01id-integer-aam04disp-integer-aam04posse","title":"<code>BigDecimal saldoEstoqueItemResumido(Long abm01id, Integer aam04disp, Integer aam04posse)</code>","text":"<p>Retorna o saldo resumido do item.</p>"},{"location":"utils/SCEUtils/#bigdecimal-saldoestoqueitemresumido-localdate-datadosaldo","title":"<code>BigDecimal saldoEstoqueItemResumido(..., LocalDate dataDoSaldo)</code>","text":"<p>Vers\u00e3o retroativa do saldo resumido.</p>"},{"location":"utils/SCEUtils/#bigdecimal-saldoestoqueitemresumido-datadosaldo-aam04ids-abm15ids0-abm15ids1-abm15ids2","title":"<code>BigDecimal saldoEstoqueItemResumido(..., dataDoSaldo, aam04ids, abm15ids0, abm15ids1, abm15ids2)</code>","text":"<p>Vers\u00e3o completa com filtros adicionais.</p>"},{"location":"utils/SCEUtils/#saldo-de-estoque-sintetico","title":"Saldo de Estoque - Sint\u00e9tico","text":""},{"location":"utils/SCEUtils/#listtablemap-saldoestoqueitemsintetico","title":"<code>List&lt;TableMap&gt; saldoEstoqueItemSintetico(...)</code>","text":"<p>Vers\u00e3o atual.</p>"},{"location":"utils/SCEUtils/#listtablemap-saldoestoqueitemsintetico-localdate-datadosaldo","title":"<code>List&lt;TableMap&gt; saldoEstoqueItemSintetico(..., LocalDate dataDoSaldo)</code>","text":"<p>Vers\u00e3o retroativa.</p>"},{"location":"utils/SCEUtils/#listtablemap-saldoestoqueitemsintetico-datadosaldo-aam04ids-abm15ids0-abm15ids1-abm15ids2","title":"<code>List&lt;TableMap&gt; saldoEstoqueItemSintetico(..., dataDoSaldo, aam04ids, abm15ids0, abm15ids1, abm15ids2)</code>","text":"<p>Vers\u00e3o completa com filtros adicionais.</p>"},{"location":"utils/SCEUtils/#saldo-de-estoque-analitico","title":"Saldo de Estoque - Anal\u00edtico","text":""},{"location":"utils/SCEUtils/#listtablemap-saldoestoqueitemanalitico","title":"<code>List&lt;TableMap&gt; saldoEstoqueItemAnalitico(...)</code>","text":"<p>Vers\u00e3o atual.</p>"},{"location":"utils/SCEUtils/#listtablemap-saldoestoqueitemanalitico-localdate-datadosaldo","title":"<code>List&lt;TableMap&gt; saldoEstoqueItemAnalitico(..., LocalDate dataDoSaldo)</code>","text":"<p>Vers\u00e3o retroativa (sem detalhamento de movimento).</p>"},{"location":"utils/SCEUtils/#listtablemap-saldoestoqueitemanalitico-datadosaldo-tmbcd01s-aam04ids-abm15ids0-abm15ids1-abm15ids2","title":"<code>List&lt;TableMap&gt; saldoEstoqueItemAnalitico(..., dataDoSaldo, tmBcd01s, aam04ids, abm15ids0, abm15ids1, abm15ids2)</code>","text":"<p>Vers\u00e3o completa com detalhamento de movimentos e filtros adicionais.</p>"},{"location":"utils/SCEUtils/#lancamentos","title":"Lan\u00e7amentos","text":""},{"location":"utils/SCEUtils/#listtablemap-buscarlancamentosestoqueitemdata","title":"<code>List&lt;TableMap&gt; buscarLancamentosEstoqueItemData(...)</code>","text":"<p>Retorna lan\u00e7amentos do item no estoque, podendo ser retroativos ou por per\u00edodo.</p>"},{"location":"utils/SCEUtils/#preco-medio","title":"Pre\u00e7o M\u00e9dio","text":""},{"location":"utils/SCEUtils/#bigdecimal-precomediounitarioatuallong-abm01id-long-aac10id","title":"<code>BigDecimal precoMedioUnitarioAtual(Long abm01id, Long aac10id)</code>","text":"<p>Retorna o pre\u00e7o m\u00e9dio atual do item.</p>"},{"location":"utils/SCEUtils/#saldo-de-estoque-com-calculo-reverso","title":"Saldo de Estoque com C\u00e1lculo Reverso","text":""},{"location":"utils/SCEUtils/#bigdecimal-saldoestoquelong-abm01id-localdate-bcc01data-long-bcc01id","title":"<code>BigDecimal saldoEstoque(Long abm01id, LocalDate bcc01data, Long bcc01id)</code>","text":"<p>Retorna o saldo considerando lan\u00e7amentos posteriores ao lan\u00e7amento informado (modo reverso).</p>"},{"location":"utils/SCEUtils/#preco-medio-retroativo","title":"Pre\u00e7o M\u00e9dio Retroativo","text":""},{"location":"utils/SCEUtils/#deprecated-bigdecimal-buscarpmretroativolong-abm01id-localdate-bcc01data-long-bcc01id-bigdecimal-pmatual","title":"<code>@Deprecated BigDecimal buscarPMRetroativo(Long abm01id, LocalDate bcc01data, Long bcc01id, BigDecimal pmAtual)</code>","text":"<p>Vers\u00e3o obsoleta para buscar o PM retroativo.</p>"},{"location":"utils/SCEUtils/#bigdecimal-buscarpmretroativolong-abm01id-localdate-bcc01data-long-bcc01id","title":"<code>BigDecimal buscarPMRetroativo(Long abm01id, LocalDate bcc01data, Long bcc01id)</code>","text":"<p>Vers\u00e3o atual para buscar o pre\u00e7o m\u00e9dio do lan\u00e7amento anterior.</p>"},{"location":"utils/SFPUtils/","title":"SFPUtils","text":"<p>Utilit\u00e1rio para opera\u00e7\u00f5es relacionadas a c\u00e1lculos trabalhistas e folha de pagamento no contexto do sistema SAM/SFP. Fornece m\u00e9todos para consulta e processamento de eventos de folha, m\u00e9dias de valores, descontos, adicionais por tempo de servi\u00e7o, e informa\u00e7\u00f5es trabalhistas vinculadas a funcion\u00e1rios.</p>"},{"location":"utils/SFPUtils/#pacote","title":"Pacote","text":"<p><code>sam.server.samdev.utils</code></p>"},{"location":"utils/SFPUtils/#dependencias","title":"Depend\u00eancias","text":"<ul> <li><code>DateUtils</code></li> <li><code>DecimalUtils</code></li> <li><code>Scale</code></li> <li><code>SFPService</code></li> <li><code>SAMWhere</code></li> <li><code>Variaveis</code></li> <li><code>SFPVarDto</code></li> <li><code>Session</code> e <code>Query</code> (multiorm)</li> </ul>"},{"location":"utils/SFPUtils/#construtor","title":"Construtor","text":"<pre><code>public SFPUtils(Session session, SAMWhere samWhere, SFPService sfpService, Variaveis variaveis, SFPVarDto sfpVarDto)\n</code></pre> <p>Inicializa a utilit\u00e1ria com as depend\u00eancias necess\u00e1rias para manipula\u00e7\u00e3o de dados de folha.</p>"},{"location":"utils/SFPUtils/#metodos","title":"M\u00e9todos","text":""},{"location":"utils/SFPUtils/#consulta-de-valores-de-eventos","title":"\ud83d\udd0d Consulta de Valores de Eventos","text":"<ul> <li><code>BigDecimal buscarValor(String abh21codigo)</code></li> <li><code>BigDecimal buscarRefHoras(String abh21codigo)</code></li> <li><code>BigDecimal buscarRefDias(String abh21codigo)</code></li> <li><code>BigDecimal buscarRefUnid(String abh21codigo)</code></li> </ul> <p>Consulta valores, refer\u00eancias em horas, dias e unidades de um evento espec\u00edfico na folha.</p>"},{"location":"utils/SFPUtils/#calculo-de-situacao-e-periodo","title":"\ud83d\udcca C\u00e1lculo de Situa\u00e7\u00e3o e Per\u00edodo","text":"<ul> <li><code>int buscarSituacaoDoTrabalhador()</code></li> <li><code>int buscarSituacaoDoTrabalhador(LocalDate data)</code></li> <li><code>boolean trabalhadorEstaEmFerias(LocalDate data)</code></li> <li><code>boolean trabalhadorEstaAfastado(LocalDate data)</code></li> </ul> <p>Consulta situa\u00e7\u00e3o, afastamentos e f\u00e9rias de um trabalhador em determinada data.</p>"},{"location":"utils/SFPUtils/#aplicacao-de-tabelas-e-calculos-previdenciarios","title":"\ud83d\udcb8 Aplica\u00e7\u00e3o de Tabelas e C\u00e1lculos Previdenci\u00e1rios","text":"<ul> <li><code>BigDecimal aplicarTabelaDeINSS(String aaj51codigo, BigDecimal valor)</code></li> <li><code>BigDecimal aplicarTabelaDeIR(String aaj50codigo, BigDecimal valor, Integer qtdDepIR)</code></li> <li><code>BigDecimal buscarSalarioFamilia(String aaj51codigo, BigDecimal valor, Integer qtdDepSF)</code></li> </ul> <p>Aplica tabelas previdenci\u00e1rias (INSS, IR, sal\u00e1rio-fam\u00edlia) para c\u00e1lculo de dedu\u00e7\u00f5es e adicionais.</p>"},{"location":"utils/SFPUtils/#calculo-de-afastamentos","title":"\ud83d\udcc6 C\u00e1lculo de Afastamentos","text":"<ul> <li><code>BigDecimal buscarDiasAfastados(String abh21codigo, LocalDate dataBase)</code></li> <li><code>Integer buscarMesesAfastados(String abh21codigo, LocalDate dataBase)</code></li> </ul> <p>Consulta afastamentos em dias e meses, considerando per\u00edodos com afastamento superior a 15 dias.</p>"},{"location":"utils/SFPUtils/#consultas-de-ocorrencias-e-calculos-na-folha","title":"\ud83d\udcc8 Consultas de Ocorr\u00eancias e C\u00e1lculos na Folha","text":"<ul> <li><code>BigDecimal buscarValorDaOcorrencia(...)</code></li> <li><code>BigDecimal buscarValorNoCalculo(...)</code></li> <li><code>BigDecimal buscarValorNoUltimoCalculo(...)</code></li> <li><code>BigDecimal buscarValorNoUltimoCalculo13Salario(...)</code></li> </ul> <p>Consulta valores lan\u00e7ados na folha de pagamento com filtros por data, m\u00eas, empresa, tipo de valor.</p>"},{"location":"utils/SFPUtils/#calculo-de-medias","title":"\ud83d\udcca C\u00e1lculo de M\u00e9dias","text":"<ul> <li><code>BigDecimal buscarMediaDeValores(...)</code></li> <li><code>BigDecimal buscarMediaDeRefHoras(...)</code></li> <li><code>BigDecimal buscarMediaDeRefDias(...)</code></li> <li><code>BigDecimal buscarMediaDeRefUnid(...)</code></li> </ul> <p>Calcula m\u00e9dias de valores e refer\u00eancias de eventos por per\u00edodo.</p>"},{"location":"utils/SFPUtils/#adicionais-e-percentuais","title":"\ud83c\udfc6 Adicionais e Percentuais","text":"<ul> <li><code>BigDecimal buscarPercentualPorTempoDeServico(LocalDate dataBase)</code></li> <li><code>BigDecimal buscarAdicionalPorTempoDeServico(...)</code></li> </ul> <p>Calcula percentual e adicional por tempo de servi\u00e7o.</p>"},{"location":"utils/SFPUtils/#datas-auxiliares","title":"\ud83d\udcc5 Datas Auxiliares","text":"<ul> <li><code>LocalDate buscarDataInicialMaiorRem(LocalDate dataBase, int meses)</code></li> <li><code>LocalDate buscarUltimoDiaMesAnterior(LocalDate dataBase)</code></li> </ul> <p>Consulta datas de refer\u00eancia.</p>"},{"location":"utils/SFPUtils/#consultas-de-salarios-e-dependentes","title":"\ud83d\udcc4 Consultas de Sal\u00e1rios e Dependentes","text":"<ul> <li><code>BigDecimal buscarSalarioDoMes()</code></li> <li><code>BigDecimal buscarSalarioDoMesAnterior(LocalDate dataBase)</code></li> <li><code>BigDecimal buscarValorDoSalarioHora(Long abh80id)</code></li> <li><code>BigDecimal buscarValorDoSalarioMes(Long abh80id)</code></li> <li><code>Integer buscarQtdeDependentesIR(Long abh80id)</code></li> <li><code>Integer buscarQtdeDependentesSF(Long abh80id)</code></li> </ul>"},{"location":"utils/SFPUtils/#outras-consultas","title":"\ud83d\udccc Outras Consultas","text":"<ul> <li><code>BigDecimal buscarTetoDoInss(String aaj51codigo)</code></li> <li><code>Integer buscarTaxaRAT()</code></li> <li><code>BigDecimal buscarIndiceFAP()</code></li> </ul>"},{"location":"utils/SFPUtils/#eventos-relacionados","title":"\ud83d\udcca Eventos Relacionados","text":"<ul> <li><code>BigDecimal buscarValorEventosRelacionados()</code></li> <li><code>BigDecimal buscarRefDiasEventosRelacionados()</code></li> <li><code>BigDecimal buscarRefHorasEventosRelacionados()</code></li> <li><code>BigDecimal buscarRefUnidEventosRelacionados()</code></li> </ul>"},{"location":"utils/SFPUtils/#operacoes-matematicas","title":"\ud83d\udd22 Opera\u00e7\u00f5es Matem\u00e1ticas","text":"<ul> <li><code>BigDecimal somarValores(BigDecimal ... valores)</code></li> <li><code>BigDecimal subtrairValores(BigDecimal ... valores)</code></li> <li><code>BigDecimal dividirValores(BigDecimal ... valores)</code></li> <li><code>BigDecimal multipicarValores(BigDecimal ... valores)</code></li> </ul>"},{"location":"utils/SFPUtils/#consulta-de-periodos-e-dependencias","title":"\ud83d\udccc Consulta de Per\u00edodos e Depend\u00eancias","text":"<ul> <li><code>Fbc01 buscarUltimoPeriodoAquisitivo(Long abh80id)</code></li> </ul>"},{"location":"utils/SFPUtils/#exemplo-de-uso","title":"Exemplo de uso","text":"<pre><code>BigDecimal valorINSS = sfpUtils.aplicarTabelaDeINSS(\"INSS2024\", new BigDecimal(\"3500.00\"));\nSystem.out.println(\"Desconto de INSS: \" + valorINSS);\n</code></pre>"},{"location":"utils/StringUtils/","title":"StringUtils","text":"<p>Classe utilit\u00e1ria para opera\u00e7\u00f5es de manipula\u00e7\u00e3o, formata\u00e7\u00e3o e transforma\u00e7\u00e3o de <code>String</code> em Java.</p>"},{"location":"utils/StringUtils/#pacote","title":"Pacote","text":"<p><code>br.com.multitec.utils</code></p>"},{"location":"utils/StringUtils/#metodos","title":"M\u00e9todos","text":""},{"location":"utils/StringUtils/#contagem-e-capitalizacao","title":"\ud83d\udccf Contagem e Capitaliza\u00e7\u00e3o","text":"<ul> <li><code>int count(String texto, String character)</code></li> <li><code>String capitalize(String value)</code></li> <li><code>String capitalize(String value, boolean lowerRest)</code></li> <li><code>String decapitalize(String value)</code></li> <li><code>String toTitleCase(String phrase)</code></li> </ul>"},{"location":"utils/StringUtils/#extracao-de-substrings","title":"\ud83d\udcd1 Extra\u00e7\u00e3o de Substrings","text":"<ul> <li><code>String extractNumbers(String texto)</code></li> <li><code>String extractLetters(String texto)</code></li> <li><code>String extractBetweenText(String templateStart, String templateEnd, String message)</code></li> <li><code>String substringAfterLast(String texto, String character)</code></li> <li><code>String substringAfterFirst(String texto, String str)</code></li> <li><code>String substringBeforeFirst(String texto, String character)</code></li> <li><code>String substringBeforeLast(String texto, String character)</code></li> <li><code>String substringBetween(String texto, String strStart, String strEnd)</code></li> </ul>"},{"location":"utils/StringUtils/#concatenacao-e-streams","title":"\ud83d\udcdd Concatena\u00e7\u00e3o e Streams","text":"<ul> <li><code>String concat(Object ... values)</code></li> <li><code>Stream&lt;String&gt; stream(Object ... values)</code></li> </ul>"},{"location":"utils/StringUtils/#validacoes","title":"\ud83d\uded1 Valida\u00e7\u00f5es","text":"<ul> <li><code>boolean isNullOrEmpty(String val)</code></li> <li><code>boolean isEquals(String string, String value)</code></li> </ul>"},{"location":"utils/StringUtils/#stacktrace","title":"\ud83d\udcc4 StackTrace","text":"<ul> <li><code>String getStackTrace(Throwable t)</code></li> </ul>"},{"location":"utils/StringUtils/#mascaras-e-formatacao","title":"\ud83c\udfad M\u00e1scaras e Formata\u00e7\u00e3o","text":"<ul> <li><code>String toNumberMask(String mask, String value)</code></li> <li><code>String formatByClass(Object value)</code></li> <li><code>String formatByClass(Object value, boolean emptyOnNull)</code></li> </ul>"},{"location":"utils/StringUtils/#ajuste-e-limitacao-de-strings","title":"\u2702\ufe0f Ajuste e Limita\u00e7\u00e3o de Strings","text":"<ul> <li><code>String crop(String value, int maxLength)</code></li> <li><code>String crop(String value, int maxLength, String textOverflow)</code></li> <li><code>String wrap(String text, int lineSize)</code></li> <li><code>String wrap(String text, int lineSize, String lineWrap)</code></li> <li><code>String ajustString(Object value, int tamanho)</code></li> <li><code>String ajustString(Object value, int length, String character, boolean leftConcat)</code></li> <li><code>String ajustString(Object value, int length, char character, boolean leftConcat)</code></li> </ul>"},{"location":"utils/StringUtils/#normalizacao-de-nomes-e-texto","title":"\ud83d\udcdb Normaliza\u00e7\u00e3o de Nomes e Texto","text":"<ul> <li><code>String string2ValidJavaName(String name)</code></li> <li><code>String unaccented(String text)</code></li> </ul>"},{"location":"utils/StringUtils/#templates-e-mensagens","title":"\ud83d\udcdd Templates e Mensagens","text":"<ul> <li><code>String message(String pattern, Object ... params)</code></li> <li><code>String messageByNames(String pattern, Object ... params)</code></li> <li><code>String messageByNames(String pattern, Map&lt;String, Object&gt; map)</code></li> </ul>"},{"location":"utils/StringUtils/#query-e-espacos","title":"\ud83d\udcdc Query e Espa\u00e7os","text":"<ul> <li><code>String createSelectWithAlias(String className, String fields)</code></li> <li><code>String space(int tamanho)</code></li> </ul>"},{"location":"utils/StringUtils/#criptografia-simples","title":"\ud83d\udd12 Criptografia Simples","text":"<ul> <li><code>String criptografaSimples(String senha)</code></li> <li><code>String descriptografaSimples(String senhaCriptografada)</code></li> </ul>"},{"location":"utils/StringUtils/#base64","title":"\ud83d\udd10 Base64","text":"<ul> <li><code>String base64Encode(String src)</code></li> <li><code>String base64Decode(String src)</code></li> </ul>"},{"location":"utils/StringUtils/#exemplo-de-uso","title":"Exemplo de uso","text":"<pre><code>String capitalizado = StringUtils.capitalize(\"exemplo\");\nSystem.out.println(capitalizado); // Exemplo\n</code></pre>"},{"location":"utils/Utils/","title":"Utils","text":"<p>Classe utilit\u00e1ria com m\u00e9todos gen\u00e9ricos de apoio para manipula\u00e7\u00e3o de cole\u00e7\u00f5es, strings, mapas, criptografia, valida\u00e7\u00f5es e outros recursos utilit\u00e1rios comuns.</p>"},{"location":"utils/Utils/#pacote","title":"Pacote","text":"<p><code>br.com.multitec.utils</code></p>"},{"location":"utils/Utils/#metodos","title":"M\u00e9todos","text":""},{"location":"utils/Utils/#validacoes-e-comparacoes","title":"\ud83d\udccc Valida\u00e7\u00f5es e Compara\u00e7\u00f5es","text":"<ul> <li><code>boolean in(Object value, Object ... in)</code></li> <li><code>boolean inIgnoreCase(String value, String ... in)</code></li> <li><code>boolean isEmpty(Collection&lt;?&gt; collection)</code></li> <li><code>boolean isEquals(Object obj1, Object obj2)</code></li> <li><code>boolean jsBoolean(Object value)</code></li> <li><code>boolean isAllNull(Object ... values)</code></li> <li><code>boolean isAllNotNull(Object ... values)</code></li> <li><code>boolean orAllisNullOrNotNull(Object ... values)</code></li> </ul>"},{"location":"utils/Utils/#criptografia","title":"\ud83d\udd10 Criptografia","text":"<ul> <li><code>String createMD5(String chave)</code></li> <li><code>String createMD5(String chave, int fases)</code></li> </ul>"},{"location":"utils/Utils/#mapas-e-listas","title":"\ud83d\uddfa\ufe0f Mapas e Listas","text":"<ul> <li><code>Map&lt;String, String&gt; mapString(Object ... keyAndValues)</code></li> <li><code>Map&lt;String, Object&gt; mapByPattern(String keys, Object ... values)</code></li> <li><code>&lt;K, V&gt; Map&lt;K, V&gt; map(Object ... keyAndValues)</code></li> <li><code>&lt;T&gt; List&lt;T&gt; list(T ... ts)</code></li> <li><code>&lt;T&gt; List&lt;T&gt; joinLists(List&lt;T&gt; listA, List&lt;T&gt; listB)</code></li> </ul>"},{"location":"utils/Utils/#transformacoes-e-operadores","title":"\ud83d\udd04 Transforma\u00e7\u00f5es e Operadores","text":"<ul> <li><code>&lt;T&gt; int findIndex(List&lt;T&gt; list, Predicate&lt;T&gt; test)</code></li> <li><code>Runnable compoundRunnable(Runnable... runnables)</code></li> <li><code>&lt;T&gt; Supplier&lt;T&gt; compoundSupplier(Supplier&lt;T&gt;, Consumer&lt;T&gt;)</code></li> <li><code>&lt;T, E&gt; Function&lt;T, E&gt; compoundFunction(Function&lt;T, E&gt;, Consumer&lt;E&gt;)</code></li> </ul>"},{"location":"utils/Utils/#comparacoes","title":"\ud83d\udccf Compara\u00e7\u00f5es","text":"<ul> <li><code>int compare(Comparable v1, Comparable v2)</code></li> </ul>"},{"location":"utils/Utils/#reflexao-e-dicdados","title":"\ud83d\udd0e Reflex\u00e3o e DicDados","text":"<ul> <li><code>void preencheCamposRequeridos(MultiEntity entity)</code></li> <li><code>&lt;T&gt; T campoEstaCarregado(Supplier&lt;T&gt; supplier)</code></li> <li><code>boolean campoEstaCarregado(MultiEntity entity, String nomeCampo)</code></li> <li><code>List&lt;String&gt; camposCarregados(MultiEntity entity)</code></li> </ul>"},{"location":"utils/Utils/#string-e-url","title":"\ud83d\udcc4 String e URL","text":"<ul> <li><code>String urlEncode(String str)</code></li> </ul>"},{"location":"utils/Utils/#versao-e-tipo-de-item","title":"\ud83d\udce6 Vers\u00e3o e Tipo de Item","text":"<ul> <li><code>String getVersao()</code></li> <li><code>String getTipoItem(Integer abm01tipo)</code></li> </ul>"},{"location":"utils/Utils/#calculos","title":"\ud83e\uddee C\u00e1lculos","text":"<ul> <li><code>int calculoDigitoVerificadorModulo11(String numero)</code></li> </ul>"},{"location":"utils/Utils/#bytes","title":"\ud83d\udcd1 Bytes","text":"<ul> <li><code>byte[] removeAllNonUTF8Bytes(byte[] bytes)</code></li> </ul>"},{"location":"utils/Utils/#exemplo-de-uso","title":"Exemplo de uso","text":"<pre><code>boolean resultado = Utils.in(\"A\", \"A\", \"B\", \"C\");\nSystem.out.println(resultado); // true\n</code></pre>"}]}